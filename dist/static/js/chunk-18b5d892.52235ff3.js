(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18b5d892"],{2934:function(e,t,r){"use strict";r.d(t,"L",(function(){return o})),r.d(t,"E",(function(){return n})),r.d(t,"C",(function(){return i})),r.d(t,"T",(function(){return s})),r.d(t,"Y",(function(){return l})),r.d(t,"i",(function(){return c})),r.d(t,"R",(function(){return d})),r.d(t,"X",(function(){return u})),r.d(t,"g",(function(){return p})),r.d(t,"l",(function(){return m})),r.d(t,"w",(function(){return f})),r.d(t,"fb",(function(){return h})),r.d(t,"y",(function(){return b})),r.d(t,"O",(function(){return v})),r.d(t,"cb",(function(){return g})),r.d(t,"d",(function(){return j})),r.d(t,"v",(function(){return F})),r.d(t,"q",(function(){return y})),r.d(t,"r",(function(){return x})),r.d(t,"A",(function(){return I})),r.d(t,"P",(function(){return k})),r.d(t,"db",(function(){return C})),r.d(t,"e",(function(){return O})),r.d(t,"u",(function(){return w})),r.d(t,"p",(function(){return R})),r.d(t,"s",(function(){return P})),r.d(t,"W",(function(){return S})),r.d(t,"x",(function(){return _})),r.d(t,"I",(function(){return A})),r.d(t,"Z",(function(){return T})),r.d(t,"a",(function(){return $})),r.d(t,"m",(function(){return W})),r.d(t,"o",(function(){return D})),r.d(t,"J",(function(){return V})),r.d(t,"ab",(function(){return B})),r.d(t,"b",(function(){return N})),r.d(t,"G",(function(){return L})),r.d(t,"U",(function(){return E})),r.d(t,"j",(function(){return U})),r.d(t,"hb",(function(){return q})),r.d(t,"ib",(function(){return J})),r.d(t,"F",(function(){return M})),r.d(t,"t",(function(){return Y})),r.d(t,"c",(function(){return G})),r.d(t,"bb",(function(){return Q})),r.d(t,"M",(function(){return z})),r.d(t,"B",(function(){return H})),r.d(t,"f",(function(){return K})),r.d(t,"eb",(function(){return X})),r.d(t,"Q",(function(){return Z})),r.d(t,"H",(function(){return ee})),r.d(t,"k",(function(){return te})),r.d(t,"jb",(function(){return re})),r.d(t,"V",(function(){return ae})),r.d(t,"N",(function(){return oe})),r.d(t,"K",(function(){return ne})),r.d(t,"z",(function(){return ie})),r.d(t,"n",(function(){return se})),r.d(t,"D",(function(){return le})),r.d(t,"S",(function(){return ce})),r.d(t,"gb",(function(){return de})),r.d(t,"h",(function(){return ue}));var a=r("b775");function o(e){return Object(a["a"])({url:"/file/saveFile",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/user/getUserList",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/role/getRoleList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/user/saveUser",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/user/updateUserById",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/user/deteleUserById",method:"get",params:e})}function d(e){return Object(a["a"])({url:"/role/saveRole",method:"get",params:e})}function u(e){return Object(a["a"])({url:"/role/updateRoleById",method:"get",params:e})}function p(e){return Object(a["a"])({url:"/user/deteleRoleById",method:"get",params:e})}function m(e){return Object(a["a"])({url:"/role/getAllPage",method:"get",params:e})}function f(e){return Object(a["a"])({url:"/role/getPageByRoleId",method:"get",params:e})}function h(e){return Object(a["a"])({url:"/role/updateRolePageForRoleId",method:"get",params:e})}function b(e){return Object(a["a"])({url:"/project/getProjectList",method:"get",params:e})}function v(e){return Object(a["a"])({url:"/project/saveProject",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/project/updateProject",method:"get",params:e})}function j(e){return Object(a["a"])({url:"/project/deteleProjectById",method:"get",params:e})}function F(e){return Object(a["a"])({url:"/owner/getOwnerIdAndName",method:"get",params:e})}function y(e){return Object(a["a"])({url:"/execute/getExecuteIdAndName",method:"get",params:e})}function x(e){return Object(a["a"])({url:"/file/getFilesByIds",method:"get",params:e})}function I(e){return Object(a["a"])({url:"/project/son/getProjectSonList",method:"get",params:e})}function k(e){return Object(a["a"])({url:"/project/son/saveProjectSon",method:"get",params:e})}function C(e){return Object(a["a"])({url:"/project/son/updateProjectSon",method:"get",params:e})}function O(e){return Object(a["a"])({url:"/project/son/deteleProjectSonById",method:"get",params:e})}function w(e){return Object(a["a"])({url:"/owner/getOwnerById",method:"get",params:e})}function R(e){return Object(a["a"])({url:"/execute/getExecuteById",method:"get",params:e})}function P(e){return Object(a["a"])({url:"staffInfo/getListByTypeAndComId",method:"get",params:e})}function S(e){return Object(a["a"])({url:"/staffInfo/getById",method:"get",params:e})}function _(e){return Object(a["a"])({url:"/project/architecture/getProjectArchitectureList",method:"get",params:e})}function A(e){return Object(a["a"])({url:"/project/architecture/saveArchitecture",method:"get",params:e})}function T(e){return Object(a["a"])({url:"/project/architecture/updateArchitecture",method:"get",params:e})}function $(e){return Object(a["a"])({url:"/project/architecture/deteleArchitectureById",method:"get",params:e})}function W(e){return Object(a["a"])({url:"/project/architecture/getById",method:"get",params:e})}function D(e){return Object(a["a"])({url:"/dayReport/getDayReportList",method:"get",params:e})}function V(e){return Object(a["a"])({url:"/dayReport/saveDayReport",method:"get",params:e})}function B(e){return Object(a["a"])({url:"/dayReport/updateDayReport",method:"get",params:e})}function N(e){return Object(a["a"])({url:"/dayReport/deteleDayReportById",method:"get",params:e})}function L(e){return Object(a["a"])({url:"/weekReport/getWeekReportList",method:"get",params:e})}function E(e){return Object(a["a"])({url:"/weekReport/saveWeekReport",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function U(e){return Object(a["a"])({url:"/weekReport/deteleDayReportById",method:"get",params:e})}function q(e){return Object(a["a"])({url:"/weekReport/updateWeekReport",method:"get",params:e})}function J(e){return Object(a["a"])({url:"/weekReport/updateWeekReportRecord",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function M(e){return Object(a["a"])({url:"/weekReport/getWeekReportRecordList",method:"get",params:e})}function Y(e){return Object(a["a"])({url:"/monthReport/getMonthReportList",method:"get",params:e})}function G(e){return Object(a["a"])({url:"/monthReport/deteleMonthReportById",method:"get",params:e})}function Q(e){return Object(a["a"])({url:"/monthReport/updateMonthReport",method:"get",params:e})}function z(e){return Object(a["a"])({url:"/monthReport/saveMonthReport",method:"get",params:e})}function H(e){return Object(a["a"])({url:"/quarterReport/getQuarterReportList",method:"get",params:e})}function K(e){return Object(a["a"])({url:"/quarterReport/deteleQuarterReportById",method:"get",params:e})}function X(e){return Object(a["a"])({url:"/quarterReport/updateQuarterReport",method:"get",params:e})}function Z(e){return Object(a["a"])({url:"/quarterReport/saveQuarterReport",method:"get",params:e})}function ee(e){return Object(a["a"])({url:"/yearReport/getYearReportList",method:"get",params:e})}function te(e){return Object(a["a"])({url:"/yearReport/deteleYearReportById",method:"get",params:e})}function re(e){return Object(a["a"])({url:"/yearReport/updateYearReport",method:"get",params:e})}function ae(e){return Object(a["a"])({url:"/yearReport/saveYearReport",method:"get",params:e})}function oe(e){return Object(a["a"])({url:"/owner/saveOwner",method:"get",params:e})}function ne(e){return Object(a["a"])({url:"/execute/saveExecute",method:"get",params:e})}function ie(e){return Object(a["a"])({url:"/weekReport/getProjectSonIdAndName",method:"get",params:e})}function se(e){return Object(a["a"])({url:"/weekReport/getArchitectureIdAndName",method:"get",params:e})}function le(e){return Object(a["a"])({url:"/staffInfo/getStaffInfoList",method:"get",params:e})}function ce(e){return Object(a["a"])({url:"/staffInfo/saveStaffInfo",method:"get",params:e})}function de(e){return Object(a["a"])({url:"/staffInfo/updateStaffInfo",method:"get",params:e})}function ue(e){return Object(a["a"])({url:"/staffInfo/deteleStaffInfoById",method:"get",params:e})}},"403f":function(e,t,r){"use strict";var a=r("6d7a"),o=r("d910"),n=r("90fb"),i=r("1e2c"),s=n("species");e.exports=function(e){var t=a(e),r=o.f;i&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},4194:function(e,t,r){"use strict";var a=r("1c8b"),o=r("5dfd").find,n=r("258f"),i=r("ff9c"),s="find",l=!0,c=i(s);s in[]&&Array(1)[s]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(s)},"51ca":function(e,t,r){},"84c2":function(e,t,r){var a=r("1e2c"),o=r("d890"),n=r("e8d6"),i=r("7063"),s=r("d910").f,l=r("b338").f,c=r("8a1c"),d=r("99ad"),u=r("22ef"),p=r("1944"),m=r("efe2"),f=r("b702").set,h=r("403f"),b=r("90fb"),v=b("match"),g=o.RegExp,j=g.prototype,F=/a/g,y=/a/g,x=new g(F)!==F,I=u.UNSUPPORTED_Y,k=a&&n("RegExp",!x||I||m((function(){return y[v]=!1,g(F)!=F||g(y)==y||"/a/i"!=g(F,"i")})));if(k){var C=function(e,t){var r,a=this instanceof C,o=c(e),n=void 0===t;if(!a&&o&&e.constructor===C&&n)return e;x?o&&!n&&(e=e.source):e instanceof C&&(n&&(t=d.call(e)),e=e.source),I&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var s=i(x?new g(e,t):g(e,t),a?this:j,C);return I&&r&&f(s,{sticky:r}),s},O=function(e){e in C||s(C,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},w=l(g),R=0;while(w.length>R)O(w[R++]);j.constructor=C,C.prototype=j,p(o,"RegExp",C)}h("RegExp")},9302:function(e,t,r){"use strict";var a=r("1c8b"),o=r("692f"),n=r("da10"),i=r("d7e1"),s=[].join,l=o!=Object,c=i("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(n(this),void 0===e?",":e)}})},"9a3e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bgfff out_wrap"},[r("el-form",{ref:"form",attrs:{model:e.addForm,"label-width":"115px","label-suffix":":"}},[r("div",{staticClass:"top-select"},[r("el-form-item",{attrs:{label:"项目","label-width":"50px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},on:{change:e.changeProject},model:{value:e.addForm.projectId,callback:function(t){e.$set(e.addForm,"projectId",t)},expression:"addForm.projectId"}},e._l(e.optionArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"子项","label-width":"60px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},on:{change:e.changeProjectSon},model:{value:e.addForm.projectSonId,callback:function(t){e.$set(e.addForm,"projectSonId",t)},expression:"addForm.projectSonId"}},e._l(e.sonProject,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"单体","label-width":"60px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},model:{value:e.addForm.architectureId,callback:function(t){e.$set(e.addForm,"architectureId",t)},expression:"addForm.architectureId"}},e._l(e.architectureArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("div",{staticClass:"ml20"},[r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)],1),r("div",{staticClass:"table-custom"},[r("div",{staticClass:"head flex"},[r("div",{staticClass:"th flex1"},[e._v("子项")]),r("div",{staticClass:"th flex1"},[e._v("单体")]),r("div",{staticClass:"th flex1"},[e._v("实施日期")]),r("div",{staticClass:"th flex1"},[e._v("巡查及其延伸工作")]),r("div",{staticClass:"th flex1"},[e._v("单体列表实施人员")]),r("div",{staticClass:"th flex1"},[e._v("详情")]),r("div",{staticClass:"th flex1"},[e._v("其他相关工作"),r("Tips",{attrs:{content:"填写除巡查检修外，本周开展的其他相关工作的内容及其成效。如测绘（说明对象）、档案整理（说明内容）、仪器设备维护（说明设备名称）、员工培训学习（说明人员和内容）、工作交流（说明人员和内容）等。"}})],1),r("div",{staticClass:"th flex1"},[e._v("操作")])]),r("div",{staticClass:"body"},[e.addForm.reportArray.length?e._l(e.addForm.reportArray,(function(t,a){return r("div",{key:t.key,staticClass:"tr flex"},[r("div",{staticClass:"td flex1"},[e._v(e._s(t.projectSonName))]),r("div",{staticClass:"td flex1"},[e._v(e._s(t.architectureName))]),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-date-picker",{staticStyle:{width:"140px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.executeDate,callback:function(r){e.$set(t,"executeDate",r)},expression:"item.executeDate"}})],1)],1),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.patrol,callback:function(r){e.$set(t,"patrol",r)},expression:"item.patrol"}},[r("el-option",{attrs:{label:"常规巡查",value:"1"}}),r("el-option",{attrs:{label:"定期观测",value:"2"}}),r("el-option",{attrs:{label:"专业检修",value:"3"}}),r("el-option",{attrs:{label:"检修效果评估",value:"4"}})],1)],1)],1),r("div",{staticClass:"td flex1"},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入"},model:{value:t.executeBy,callback:function(r){e.$set(t,"executeBy",r)},expression:"item.executeBy"}})],1),r("div",{staticClass:"td flex1"},[r("a",{staticClass:"active_color",on:{click:function(r){return e.view(t,a)}}},[e._v("查看")])]),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入"},model:{value:t.other,callback:function(r){e.$set(t,"other",r)},expression:"item.other"}})],1)],1),r("div",{staticClass:"td flex1"},[r("a",{staticClass:"del",on:{click:function(r){return e.del(t,a)}}},[e._v("删除")])])])})):r("div",{staticClass:"no-data flex_center"},[e._v("暂无数据")])],2)]),r("div",{staticClass:"center mt20"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),r("el-button",{on:{click:e.clear}},[e._v("清除")])],1)]),r("el-dialog",{attrs:{title:e.title[1],visible:e.detailVisible,width:"800px",center:""},on:{"update:visible":function(t){e.detailVisible=t},close:e.closeFn}},[r("el-form",{ref:"addForm",attrs:{model:e.detailForm,"label-suffix":":","label-position":"right","label-width":"120px"}},["1"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"巡查工具"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.patrolTool,callback:function(t){e.$set(e.detailForm,"patrolTool",t)},expression:"detailForm.patrolTool"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"根据方案内容填写，应包括此前巡查中提出的需要定期观测的部位的对比，此前专业检修的实施效果评估等。"}}),e._v("巡查内容 ")],1),r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.patrolContent,callback:function(t){e.$set(e.detailForm,"patrolContent",t)},expression:"detailForm.patrolContent"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"档案留存"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:e.detailForm.patrolFileId,callback:function(t){e.$set(e.detailForm,"patrolFileId",t)},expression:"detailForm.patrolFileId"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否发现新病害"}},[r("el-radio-group",{model:{value:e.detailForm.haveNewDisease,callback:function(t){e.$set(e.detailForm,"haveNewDisease",t)},expression:"detailForm.haveNewDisease"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),r("el-radio",{attrs:{label:0}},[e._v("否")])],1),1===e.detailForm.haveNewDisease?r("el-button",{staticClass:"ml20",attrs:{type:"primary"},on:{click:e.addVirus}},[e._v("添加")]):e._e()],1)],1)],1),1===e.detailForm.haveNewDisease?r("div",e._l(e.detailForm.diseaseArray,(function(t,a){return r("div",{key:a,staticClass:"dynamic-warper"},[r("div",{staticClass:"head-tit flex_between mb10"},[r("span",{staticClass:"left"},[e._v("病毒害"+e._s(a+1))]),e._v(" "),e.detailForm.diseaseArray.length>1?r("span",{staticClass:"right del pointer",on:{click:function(r){return e.delVirus(t)}}},[e._v("删除")]):e._e()]),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害部位"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseasePart,callback:function(r){e.$set(t,"diseasePart",r)},expression:"item.diseasePart"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害类型"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseType,callback:function(r){e.$set(t,"diseaseType",r)},expression:"item.diseaseType"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害表征"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseTrait,callback:function(r){e.$set(t,"diseaseTrait",r)},expression:"item.diseaseTrait"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"成因分析"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseCause,callback:function(r){e.$set(t,"diseaseCause",r)},expression:"item.diseaseCause"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"建议上传多张不同角度的病害照片，并辅以文字注释（描述病害部位、面积、表征、严重程度和成因等）。格式: jpg,png,jpeg"}}),e._v("照片 ")],1),r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0,"is-tips":!1},model:{value:t.diseasePhotos,callback:function(r){e.$set(t,"diseasePhotos",r)},expression:"item.diseasePhotos"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"结构性病害"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:t.diseaseIsStructure,callback:function(r){e.$set(t,"diseaseIsStructure",r)},expression:"item.diseaseIsStructure"}},[r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"2"}}),r("el-option",{attrs:{label:"有待检测鉴定",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害严重程度"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:t.diseaseDegree,callback:function(r){e.$set(t,"diseaseDegree",r)},expression:"item.diseaseDegree"}},[r("el-option",{attrs:{label:"轻微",value:"1"}}),r("el-option",{attrs:{label:"严重",value:"2"}}),r("el-option",{attrs:{label:"有待检测检测",value:"3"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"处理方式"}},[r("el-checkbox-group",{model:{value:t.diseaseSolveWay,callback:function(r){e.$set(t,"diseaseSolveWay",r)},expression:"item.diseaseSolveWay"}},[r("el-checkbox",{attrs:{label:"1",name:"type"}},[e._v("无需任何处理"),r("Tips",{attrs:{content:"一般针对轻微且无发展（稳定）的非结构性病害"}})],1),r("el-checkbox",{attrs:{label:"2",name:"type"}},[e._v("定期巡视观测"),r("Tips",{attrs:{content:"针对轻微，发展缓慢的非结构性病害"}})],1),r("el-checkbox",{attrs:{label:"3",name:"type"}},[e._v("专业检修"),r("Tips",{attrs:{content:"针对非结构性病害，成因明确，且发展迅速，须立即进行检修，以阻止或减缓病害发展"}})],1),r("el-checkbox",{attrs:{label:"4",name:"type"}},[e._v("检测鉴定"),r("Tips",{attrs:{content:"成因或严重程度不清，需要通过专门的仪器设备检测鉴定其成因或严重程度"}})],1),r("el-checkbox",{attrs:{label:"5",name:"type"}},[e._v("专项监测"),r("Tips",{attrs:{content:"针对轻微且发展迅速的结构性病害，应明确 监测内容"}})],1),r("el-checkbox",{attrs:{label:"6",name:"type"}},[e._v("抢险支护"),r("Tips",{attrs:{content:"针对发展迅速的结构性病害，必须立即开展支护等可逆的抢修工程，以防治其破坏"}})],1),r("el-checkbox",{attrs:{label:"7",name:"type"}},[e._v("修缮工程"),r("Tips",{attrs:{content:"针对严重且发展缓慢的结构性病害，或大面积的严重的非结构性病害，必须单独申报修缮工程立项"}})],1)],1)],1)],1)],1)],1)})),0):e._e()],1):e._e(),"2"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"观测对比"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.beforeComparison,callback:function(t){e.$set(e.detailForm,"beforeComparison",t)},expression:"detailForm.beforeComparison"}},[r("el-option",{attrs:{label:"无发展",value:"1"}}),r("el-option",{attrs:{label:"轻微发展",value:"2"}}),r("el-option",{attrs:{label:"迅速发展",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"评估结论"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.beforeVerdict,callback:function(t){e.$set(e.detailForm,"beforeVerdict",t)},expression:"detailForm.beforeVerdict"}},[r("el-option",{attrs:{label:"继续观测",value:"1"}}),r("el-option",{attrs:{label:"停止观测",value:"2"}}),r("el-option",{attrs:{label:"加密观测",value:"3"}}),r("el-option",{attrs:{label:"专业检修",value:"4"}}),r("el-option",{attrs:{label:"检测鉴定",value:"5"}}),r("el-option",{attrs:{label:"专项监测",value:"6"}}),r("el-option",{attrs:{label:"修缮工程",value:"7"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"建议上传历次观测时同一角度病害照片，有需要时辅以文字注释。格式: jpg,png,jpeg"}}),e._v("照片 ")],1),r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0,"is-tips":!1},model:{value:e.detailForm.observationFileId,callback:function(t){e.$set(e.detailForm,"observationFileId",t)},expression:"detailForm.observationFileId"}})],1)],1)],1)],1):e._e(),"3"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"简要文字说明，草图，或专门绘制的检修方案图纸"}}),e._v("检修方案说明 ")],1),r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionScheme,callback:function(t){e.$set(e.detailForm,"reconditionScheme",t)},expression:"detailForm.reconditionScheme"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"开始日期和完成日期"}}),e._v("检修实施时间 ")],1),r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionTime,callback:function(t){e.$set(e.detailForm,"reconditionTime",t)},expression:"detailForm.reconditionTime"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"简述施工步骤，说明所用原材料、工具、设备等"}}),e._v("检修完成状况 ")],1),r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionCondition,callback:function(t){e.$set(e.detailForm,"reconditionCondition",t)},expression:"detailForm.reconditionCondition"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"填写姓名、工种和分工情况"}}),e._v("检修实施人员 ")],1),r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionStaff,callback:function(t){e.$set(e.detailForm,"reconditionStaff",t)},expression:"detailForm.reconditionStaff"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("div",{attrs:{slot:"label"},slot:"label"},[r("Tips",{attrs:{content:"检修全过程的照片。应至少包括检修施工前病害部位情况的照片1张、检修施工关键过程的照片1张，检修完成后与检修前的同角度对比照片1张，并适当配以文字说明。格式：png,jpg,jpeg"}}),e._v("照片 ")],1),r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0,"is-tips":!1},model:{value:e.detailForm.reconditionPhoto,callback:function(t){e.$set(e.detailForm,"reconditionPhoto",t)},expression:"detailForm.reconditionPhoto"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{staticClass:"inputWith",attrs:{type:"textarea",rows:6},model:{value:e.detailForm.reconditionPhotoRemark,callback:function(t){e.$set(e.detailForm,"reconditionPhotoRemark",t)},expression:"detailForm.reconditionPhotoRemark"}})],1)],1)],1)],1):e._e(),"4"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修后观测对比"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.observationComparison,callback:function(t){e.$set(e.detailForm,"observationComparison",t)},expression:"detailForm.observationComparison"}},[r("el-option",{attrs:{label:"效果良好",value:"1"}}),r("el-option",{attrs:{label:"有一定效果",value:"2"}}),r("el-option",{attrs:{label:"无效",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修后评估结论"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.observationVerdict,callback:function(t){e.$set(e.detailForm,"observationVerdict",t)},expression:"detailForm.observationVerdict"}},[r("el-option",{attrs:{label:"持续巡查评估",value:"1"}}),r("el-option",{attrs:{label:"再次检修",value:"2"}}),r("el-option",{attrs:{label:"检测鉴定",value:"3"}})],1)],1)],1)],1)],1):e._e()]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.sureFn}},[e._v("确定")])],1)],1)],1)},o=[],n=r("15f8"),i=r("cd6d"),s=(r("6a61"),r("08ba"),r("e35a"),r("0d7a"),r("9302"),r("2eeb"),r("e18c"),r("053b"),r("4194"),r("ea69"),r("2934")),l=r("9dac"),c=r("6c60"),d={components:{upload:l["a"],Tips:c["a"]},data:function(){return{optionArr:[],sonProject:[],architectureArr:[],addForm:{reportId:this.$route.query.id||"",projectId:"",projectSonId:"",architectureId:"",reportArray:[]},title:"查看",detailVisible:!1,detailForm:{patrolTool:"",patrolContent:"",patrolFileId:[],haveNewDisease:1,diseaseArray:[{diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSolveWay:["1"]}],beforeComparison:"",beforeVerdict:"",observationFileId:[],reconditionScheme:"",reconditionTime:"",reconditionPhoto:[],reconditionCondition:"",reconditionStaff:"",reconditionPhotoRemark:"",observationComparison:"",observationVerdict:""},curIndex:""}},mounted:function(){var e=this;this.$route.query.id&&Object(s["F"])({reportId:this.$route.query.id}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(r,"详情"),0===r.code&&r.data.list&&r.data.list.length&&(r.data.list.forEach((function(t){e.addForm.reportArray.push(Object(n["a"])(Object(n["a"])({},t.weekReportRecord),{},{patrol:"".concat(t.weekReportRecord.patrol),diseaseArray:t.diseaseRecordList||[]}))})),e.addForm.reportArray.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t1=r.observationFileId,!t.t1){t.next=5;break}return t.next=4,e.getFilesFn(r.observationFileId);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=[];case 8:if(r.observationFileId=t.t0,t.t3=r.patrolFileId,!t.t3){t.next=14;break}return t.next=13,e.getFilesFn(r.patrolFileId);case 13:t.t3=t.sent;case 14:if(t.t2=t.t3,t.t2){t.next=17;break}t.t2=[];case 17:if(r.patrolFileId=t.t2,t.t5=r.reconditionPhoto,!t.t5){t.next=23;break}return t.next=22,e.getFilesFn(r.reconditionPhoto);case 22:t.t5=t.sent;case 23:if(t.t4=t.t5,t.t4){t.next=26;break}t.t4=[];case 26:r.reconditionPhoto=t.t4,r.diseaseArray&&r.diseaseArray.length&&r.diseaseArray.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t1=r.diseasePhotos,!t.t1){t.next=5;break}return t.next=4,e.getFilesFn(r.diseasePhotos);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=[];case 8:r.diseasePhotos=t.t0,r.diseaseSolveWay=r.diseaseSolveWay&&r.diseaseSolveWay.split(",")||[];case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(s["y"])({pageNum:1,pageSize:9999}).then((function(t){return e.optionArr=t.data.projectList.rows,e.addForm.projectId=e.optionArr[0].id,!0})).then((function(t){t&&e.getSonProject()}))},methods:{getSonProject:function(){var e=this;Object(s["z"])({projectId:this.addForm.projectId}).then((function(t){e.sonProject=t.data.sonIdAndName}))},getArchitecture:function(){var e=this;Object(s["n"])({projectId:this.addForm.projectSonId}).then((function(t){e.architectureArr=t.data.sonIdAndName}))},changeProject:function(){this.getSonProject(),this.addForm.projectSonId="",this.addForm.architectureId=""},changeProjectSon:function(){this.getArchitecture(),this.addForm.architectureId=""},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addForm.reportArray.length){t.next=3;break}return e.$message.error("请先添加数据!"),t.abrupt("return");case 3:if(r=JSON.parse(JSON.stringify(e.addForm)),console.log(r,"parseDataparseDataparseDataparseData"),r.reportArray.forEach((function(e){e.observationFileId=e.observationFileId.map((function(e){return e.id})).join(","),e.patrolFileId=e.patrolFileId.map((function(e){return e.id})).join(","),e.reconditionPhoto=e.reconditionPhoto.map((function(e){return e.id})).join(","),e.diseaseArray.forEach((function(e){e.diseasePhotos=e.diseasePhotos.map((function(e){return e.id})).join(","),e.diseaseSolveWay=e.diseaseSolveWay.join(",")}))})),e.$route.query.id){t.next=13;break}return t.next=9,Object(s["U"])(r);case 9:a=t.sent,0===a.code&&(e.$message.success("提交成功"),e.$router.go(-1)),t.next=17;break;case 13:return t.next=15,Object(s["ib"])(r);case 15:o=t.sent,0===o.code&&(e.$message.success("编辑成功"),e.$router.go(-1));case 17:case"end":return t.stop()}}),t)})))()},sureFn:function(){this.$set(this.addForm.reportArray,this.curIndex,Object(n["a"])(Object(n["a"])({},this.addForm.reportArray[this.curIndex]),this.detailForm)),this.detailVisible=!1},getFilesFn:function(e){return new Promise((function(t,r){Object(s["r"])({ids:e}).then((function(e){var r=[];0===e.code&&e.data&&(r=e.data.files.map((function(e){return{name:e.name,id:e.id}}))),t(r)})).catch((function(e){r(e)}))}))},add:function(){var e=this;this.addForm.projectId?this.addForm.projectSonId?this.addForm.architectureId?this.addForm.reportArray.push({projectSonId:this.addForm.projectSonId,projectSonName:this.sonProject.find((function(t){return t.id===e.addForm.projectSonId})).name,architectureId:this.addForm.architectureId,architectureName:this.architectureArr.find((function(t){return t.id===e.addForm.architectureId})).name,executeDate:"",executeBy:"",patrol:"1",other:"",key:Date.now(),patrolTool:"",patrolContent:"",patrolFileId:[],haveNewDisease:1,diseaseArray:[{diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSolveWay:["1"]}],beforeComparison:"",beforeVerdict:"",observationFileId:[],reconditionScheme:"",reconditionTime:"",reconditionPhoto:[],reconditionCondition:"",reconditionStaff:"",reconditionPhotoRemark:"",observationComparison:"",observationVerdict:""}):this.$message.error("请选择单体"):this.$message.error("请选择子项"):this.$message.error("请选择项目")},view:function(e,t){if(this.addForm.reportArray[t].patrol){switch(this.curIndex=t,this.addForm.reportArray[t].patrol){case"1":this.title=["1","常规巡查"];break;case"2":this.title=["2","定期观测"];break;case"3":this.title=["3","专业检修"];break;default:this.title=["4","检修效果评估"];break}this.detailForm=Object(n["a"])(Object(n["a"])({},this.detailForm),{},{patrolTool:e.patrolTool,patrolContent:e.patrolContent,patrolFileId:e.patrolFileId,haveNewDisease:e.haveNewDisease,diseaseArray:e.diseaseArray,beforeComparison:e.beforeComparison,beforeVerdict:e.beforeVerdict,observationFileId:e.observationFileId,reconditionScheme:e.reconditionScheme,reconditionTime:e.reconditionTime,reconditionPhoto:e.reconditionPhoto,reconditionCondition:e.reconditionCondition,reconditionStaff:e.reconditionStaff,reconditionPhotoRemark:e.reconditionPhotoRemark,observationComparison:e.observationComparison,observationVerdict:e.observationVerdict}),this.detailVisible=!0}else this.$message.error("请选择巡查及其延伸工作")},closeFn:function(){this.detailForm={patrolTool:"",patrolContent:"",patrolFileId:[],haveNewDisease:1,diseaseArray:[{diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSolveWay:["1"]}],beforeComparison:"",beforeVerdict:"",observationFileId:[],reconditionScheme:"",reconditionTime:"",reconditionPhoto:[],reconditionCondition:"",reconditionStaff:"",reconditionPhotoRemark:"",observationComparison:"",observationVerdict:""}},del:function(e){var t=this.addForm.reportArray.indexOf(e);-1!==t&&this.addForm.reportArray.splice(t,1)},clear:function(){this.addForm.reportArray=[]},addVirus:function(){this.detailForm.diseaseArray.push({diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSolveWay:["1"]})},delVirus:function(e){var t=this.detailForm.diseaseArray.indexOf(e);-1!==t&&this.detailForm.diseaseArray.splice(t,1)}}},u=d,p=(r("cbe9"),r("4ac2")),m=Object(p["a"])(u,a,o,!1,null,"1a22b09e",null);t["default"]=m.exports},cbe9:function(e,t,r){"use strict";r("51ca")}}]);
//# sourceMappingURL=chunk-18b5d892.52235ff3.js.map