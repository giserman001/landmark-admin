{"version":3,"sources":["webpack:///./src/views/projectInformation/singleDetail.vue?e26a","webpack:///./src/views/projectInformation/singleDetail.vue?26ab","webpack:///src/views/projectInformation/singleDetail.vue","webpack:///./src/views/projectInformation/singleDetail.vue?d2d3","webpack:///./src/views/projectInformation/singleDetail.vue","webpack:///./src/utils/downFile.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","swiperOption","_l","item","index","key","url","slot","_v","_s","detail","name","code","beginBuildTime","history","maintain","valueAssess","staticStyle","filesArr","class","length","on","$event","downLoad","id","staticRenderFns","components","swiper","swiperSlide","data","loop","autoplay","delay","stopOnLastSlide","disableOnInteraction","pagination","el","clickable","navigation","nextEl","prevEl","swiperArr","mounted","getDetail","methods","getFilesFn","Promise","res","arr","files","map","url2","resolve","reject","err","component","token","get","link","document","createElement","href","process","body","appendChild","click","removeChild"],"mappings":"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","file":"static/js/chunk-25dac608.eb46a42d.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=style&index=0&id=9730b812&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bgfff out_wrap\"},[_c('div',{staticClass:\"detail-warper\"},[_c('div',{staticClass:\"swiper-box\"},[_c('swiper',{staticClass:\"swiper\",attrs:{\"options\":_vm.swiperOption}},[_vm._l((_vm.swiperArr),function(item,index){return _c('swiper-slide',{key:index},[_c('img',{staticClass:\"img-item\",attrs:{\"src\":item.url,\"alt\":\"\"}})])}),_c('div',{staticClass:\"swiper-pagination\",attrs:{\"slot\":\"pagination\"},slot:\"pagination\"})],2)],1),_c('div',{staticClass:\"single-detail\"},[_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"单体名称：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.name))])]),_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"单体编号：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.code))])]),_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"始建年代：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.beginBuildTime))])]),_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"历史沿革：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.history))])]),_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"历史修缮情况：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.maintain))])]),_c('div',{staticClass:\"flex mb20\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"价值评估结论：\")]),_c('div',[_vm._v(_vm._s(_vm.detail.valueAssess))])]),_c('div',{staticClass:\"flex mb20\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"测绘图附件：\")]),_c('div',{staticStyle:{\"flex\":\"1\"}},[(_vm.filesArr.length)?_vm._l((_vm.filesArr),function(item,index){return _c('div',{key:index,class:['file-con', (_vm.filesArr.length - 1) === index ? '' : 'mb10']},[_c('div',[_vm._v(_vm._s(item.name))]),_c('div',{on:{\"click\":function($event){return _vm.downLoad(item.id)}}},[_vm._v(\"下载\")])])}):_c('div',[_vm._v(\"暂无数据\")])],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bgfff out_wrap\">\n    <div class=\"detail-warper\">\n      <div class=\"swiper-box\">\n        <swiper class=\"swiper\" :options=\"swiperOption\">\n          <swiper-slide v-for=\"(item, index) in swiperArr\" :key=\"index\">\n            <img class=\"img-item\" :src=\"item.url\" alt=\"\">\n          </swiper-slide>\n          <div slot=\"pagination\" class=\"swiper-pagination\" />\n        </swiper>\n      </div>\n      <div class=\"single-detail\">\n        <div class=\"flex mb20\">\n          <div class=\"label\">单体名称：</div>\n          <div>{{ detail.name }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <div class=\"label\">单体编号：</div>\n          <div>{{ detail.code }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <div class=\"label\">始建年代：</div>\n          <div>{{ detail.beginBuildTime }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <div class=\"label\">历史沿革：</div>\n          <div>{{ detail.history }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <div class=\"label\">历史修缮情况：</div>\n          <div>{{ detail.maintain }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <div class=\"label\">价值评估结论：</div>\n          <div>{{ detail.valueAssess }}</div>\n        </div>\n        <div class=\"flex mb20\">\n          <span class=\"label\">测绘图附件：</span>\n          <div style=\"flex:1;\">\n            <template v-if=\"filesArr.length\">\n              <div v-for=\"(item, index) in filesArr\" :key=\"index\" :class=\"['file-con', (filesArr.length - 1) === index ? '' : 'mb10']\">\n                <div>{{ item.name }}</div>\n                <div @click=\"downLoad(item.id)\">下载</div>\n              </div>\n            </template>\n            <div v-else>暂无数据</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\nimport 'swiper/dist/css/swiper.css'\nimport { getArchitectureById, getFiles } from '@/api/common'\nimport downFile from '@/utils/downFile'\nexport default {\n  components: {\n    swiper,\n    swiperSlide\n  },\n  data() {\n    return {\n      swiperOption: {\n        loop: true,\n        autoplay: {\n          delay: 3000,\n          stopOnLastSlide: false,\n          disableOnInteraction: false\n        },\n        // 显示分页\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true // 允许分页点击跳转\n        },\n        // 设置点击箭头\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev'\n        }\n      },\n      swiperArr: [],\n      filesArr: [],\n      detail: {}\n    }\n  },\n  mounted() {\n    this.getDetail()\n  },\n  methods: {\n    async getDetail() {\n      const res = await getArchitectureById({ id: this.$route.query.id })\n      if (res.code === 0) {\n        // 通过ids获取文件\n        if (res.data && res.data.architecture.map) {\n          this.filesArr = await this.getFilesFn(res.data.architecture.map)\n        }\n        if (res.data && res.data.architecture.photo) {\n          this.swiperArr = await this.getFilesFn(res.data.architecture.photo)\n        }\n        this.detail = res.data.architecture\n      }\n    },\n    getFilesFn(ids) {\n      return new Promise((resolve, reject) => {\n        getFiles({ ids }).then(res => {\n          let arr = []\n          if (res.code === 0 && res.data) {\n            arr = res.data.files.map(item => {\n              return {\n                name: item.name,\n                id: item.id,\n                url: item.url2\n              }\n            })\n          }\n          resolve(arr)\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    },\n    downLoad(id) {\n      downFile(id)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-warper{\n  display: flex;\n  .swiper-box{\n    width: 500px;\n    height: 350px;\n    .swiper{\n      width: 100%;\n      height: 100%;\n    }\n    .img-item{\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .single-detail{\n    flex: 1;\n    padding-left: 20px;\n    box-sizing: border-box;\n    .label{\n      width: 100px;\n      display: inline-block;\n      text-align: right;\n      font-weight: bold;\n      flex-shrink: 0;\n    }\n  }\n}\n.file-con{\n  display: flex;\n  &>div{\n    &:last-child{\n      color: #3a8ee6;\n      cursor: pointer;\n      margin-left: 20px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./singleDetail.vue?vue&type=template&id=9730b812&scoped=true&\"\nimport script from \"./singleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./singleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./singleDetail.vue?vue&type=style&index=0&id=9730b812&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9730b812\",\n  null\n  \n)\n\nexport default component.exports","import { get } from '@/utils/storage'\n\nexport default (id) => {\n  const token = get('token') || ''\n  const link = document.createElement('a')\n  link.href = `${process.env.VUE_APP_BASE_API}/file/download?id=${id}&token=${token}`\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n"],"sourceRoot":""}