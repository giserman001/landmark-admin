{"version":3,"sources":["webpack:///./src/views/projectInformation/singleDetail.vue?b065","webpack:///./src/views/projectInformation/singleDetail.vue?7797","webpack:///src/views/projectInformation/singleDetail.vue","webpack:///./src/views/projectInformation/singleDetail.vue?d2d3","webpack:///./src/views/projectInformation/singleDetail.vue","webpack:///./src/utils/downFile.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","swiperOption","_l","item","index","key","url","slot","_v","_s","detail","name","code","beginBuildTime","history","maintain","valueAssess","staticStyle","filesArr","class","length","on","$event","downLoad","id","staticRenderFns","components","swiper","swiperSlide","data","loop","autoplay","delay","stopOnLastSlide","disableOnInteraction","pagination","el","clickable","navigation","nextEl","prevEl","swiperArr","mounted","getDetail","methods","getFilesFn","Promise","res","arr","files","map","url2","resolve","reject","err","component","token","get","link","document","createElement","href","process","body","appendChild","click","removeChild"],"mappings":"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","file":"static/js/chunk-1a9bf5de.8edadc8a.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=style&index=0&id=c7d0a31a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bgfff out_wrap\"},[_c('div',{staticClass:\"detail-warper\"},[_c('div',{staticClass:\"swiper-box\"},[_c('swiper',{staticClass:\"swiper\",attrs:{\"options\":_vm.swiperOption}},[_vm._l((_vm.swiperArr),function(item,index){return _c('swiper-slide',{key:index},[_c('img',{staticClass:\"img-item\",attrs:{\"src\":item.url,\"alt\":\"\"}})])}),_c('div',{staticClass:\"swiper-pagination\",attrs:{\"slot\":\"pagination\"},slot:\"pagination\"})],2)],1),_c('div',{staticClass:\"single-detail\"},[_c('el-row',{staticClass:\"mb20\"},[_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"单体名称：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.name))])]),_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"单体编号：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.code))])])],1),_c('el-row',{staticClass:\"mb20\"},[_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"始建年代：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.beginBuildTime))])]),_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"历史沿革：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.history))])])],1),_c('el-row',{staticClass:\"mb20\"},[_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"历史修缮情况：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.maintain))])]),_c('el-col',{attrs:{\"span\":12}},[_c('span',{staticClass:\"label\"},[_vm._v(\"价值评估结论：\")]),_c('span',[_vm._v(_vm._s(_vm.detail.valueAssess))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"flex\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"测绘图附件：\")]),_c('div',{staticStyle:{\"flex\":\"1\"}},[(_vm.filesArr.length)?_vm._l((_vm.filesArr),function(item,index){return _c('div',{key:index,class:['file-con', (_vm.filesArr.length - 1) === index ? '' : 'mb10']},[_c('div',[_vm._v(_vm._s(item.name))]),_c('div',{on:{\"click\":function($event){return _vm.downLoad(item.id)}}},[_vm._v(\"下载\")])])}):_c('div',[_vm._v(\"暂无数据\")])],2)])])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bgfff out_wrap\">\r\n    <div class=\"detail-warper\">\r\n      <div class=\"swiper-box\">\r\n        <swiper class=\"swiper\" :options=\"swiperOption\">\r\n          <swiper-slide v-for=\"(item, index) in swiperArr\" :key=\"index\">\r\n            <img class=\"img-item\" :src=\"item.url\" alt=\"\">\r\n          </swiper-slide>\r\n          <!-- <swiper-slide>\r\n            <img class=\"img-item\" src=\"@/assets/test/2.jpg\" alt=\"\">\r\n          </swiper-slide>\r\n          <swiper-slide>\r\n            <img class=\"img-item\" src=\"@/assets/test/3.jpg\" alt=\"\">\r\n          </swiper-slide> -->\r\n          <div slot=\"pagination\" class=\"swiper-pagination\" />\r\n        </swiper>\r\n      </div>\r\n      <div class=\"single-detail\">\r\n        <el-row class=\"mb20\">\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">单体名称：</span>\r\n            <span>{{ detail.name }}</span>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">单体编号：</span>\r\n            <span>{{ detail.code }}</span>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"mb20\">\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">始建年代：</span>\r\n            <span>{{ detail.beginBuildTime }}</span>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">历史沿革：</span>\r\n            <span>{{ detail.history }}</span>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"mb20\">\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">历史修缮情况：</span>\r\n            <span>{{ detail.maintain }}</span>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <span class=\"label\">价值评估结论：</span>\r\n            <span>{{ detail.valueAssess }}</span>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <div class=\"flex\">\r\n              <span class=\"label\">测绘图附件：</span>\r\n              <div style=\"flex:1;\">\r\n                <template v-if=\"filesArr.length\">\r\n                  <div v-for=\"(item, index) in filesArr\" :key=\"index\" :class=\"['file-con', (filesArr.length - 1) === index ? '' : 'mb10']\">\r\n                    <div>{{ item.name }}</div>\r\n                    <div @click=\"downLoad(item.id)\">下载</div>\r\n                  </div>\r\n                </template>\r\n                <div v-else>暂无数据</div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\r\nimport 'swiper/dist/css/swiper.css'\r\nimport { getArchitectureById, getFiles } from '@/api/common'\r\nimport downFile from '@/utils/downFile'\r\nexport default {\r\n  components: {\r\n    swiper,\r\n    swiperSlide\r\n  },\r\n  data() {\r\n    return {\r\n      swiperOption: {\r\n        loop: true,\r\n        autoplay: {\r\n          delay: 3000,\r\n          stopOnLastSlide: false,\r\n          disableOnInteraction: false\r\n        },\r\n        // 显示分页\r\n        pagination: {\r\n          el: '.swiper-pagination',\r\n          clickable: true // 允许分页点击跳转\r\n        },\r\n        // 设置点击箭头\r\n        navigation: {\r\n          nextEl: '.swiper-button-next',\r\n          prevEl: '.swiper-button-prev'\r\n        }\r\n      },\r\n      swiperArr: [],\r\n      filesArr: [],\r\n      detail: {}\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDetail()\r\n  },\r\n  methods: {\r\n    async getDetail() {\r\n      const res = await getArchitectureById({ id: this.$route.query.id })\r\n      if (res.code === 0) {\r\n        // 通过ids获取文件\r\n        if (res.data && res.data.architecture.map) {\r\n          this.filesArr = await this.getFilesFn(res.data.architecture.map)\r\n        }\r\n        if (res.data && res.data.architecture.photo) {\r\n          this.swiperArr = await this.getFilesFn(res.data.architecture.photo)\r\n        }\r\n        this.detail = res.data.architecture\r\n      }\r\n    },\r\n    getFilesFn(ids) {\r\n      return new Promise((resolve, reject) => {\r\n        getFiles({ ids }).then(res => {\r\n          let arr = []\r\n          if (res.code === 0 && res.data) {\r\n            arr = res.data.files.map(item => {\r\n              return {\r\n                name: item.name,\r\n                id: item.id,\r\n                url: item.url2\r\n              }\r\n            })\r\n          }\r\n          resolve(arr)\r\n        }).catch((err) => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    downLoad(id) {\r\n      downFile(id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.detail-warper{\r\n  display: flex;\r\n  .swiper-box{\r\n    width: 500px;\r\n    height: 350px;\r\n    .swiper{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .img-item{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .single-detail{\r\n    flex: 1;\r\n    padding-left: 20px;\r\n    box-sizing: border-box;\r\n    .label{\r\n      width: 100px;\r\n      display: inline-block;\r\n      text-align: right;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n.file-con{\r\n  display: flex;\r\n  &>div{\r\n    &:first-child{\r\n      flex: 3;\r\n    }\r\n    &:last-child{\r\n      flex: 1;\r\n      color: #3a8ee6;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./singleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./singleDetail.vue?vue&type=template&id=c7d0a31a&scoped=true&\"\nimport script from \"./singleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./singleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./singleDetail.vue?vue&type=style&index=0&id=c7d0a31a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7d0a31a\",\n  null\n  \n)\n\nexport default component.exports","import { get } from '@/utils/storage'\r\n\r\nexport default (id) => {\r\n  const token = get('token') || ''\r\n  const link = document.createElement('a')\r\n  link.href = `${process.env.VUE_APP_BASE_API}/file/download?id=${id}&token=${token}`\r\n  document.body.appendChild(link)\r\n  link.click()\r\n  document.body.removeChild(link)\r\n}\r\n"],"sourceRoot":""}