{"version":3,"sources":["webpack:///./src/views/account/user.vue?1465","webpack:///src/views/account/user.vue","webpack:///./src/views/account/user.vue?f030","webpack:///./src/views/account/user.vue","webpack:///./src/api/common.js","webpack:///./src/components/ZfTable/CoreTable.vue?a981","webpack:///src/components/ZfTable/CoreTable.vue","webpack:///./src/components/ZfTable/CoreTable.vue?e732","webpack:///./src/components/ZfTable/CoreTable.vue","webpack:///./src/components/ZfTable/CoreTable.vue?6fec","webpack:///./src/views/account/columns/list.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","form","model","value","callback","$$v","$set","expression","on","query","_v","add","column","tableList","pages","total","pageSize","pageNum","handlePageChange","scopedSlots","_u","key","fn","ref","row","$event","edit","del","mode","dialogVisible","groupOne","rules","_l","item","id","name","_e","slot","submitForm","staticRenderFns","components","ZfTable","data","undefined","test","Error","userName","mobile","roleId","password","userId","optionArr","mounted","methods","username","role","$confirm","confirmButtonText","cancelButtonText","type","message","$refs","formName","validate","component","saveFile","request","url","method","getUserList","params","getRoleList","saveUser","updataUserById","deteleUserById","saveRole","updataRoleById","deteleRoleById","getAllPageAuth","getPageByRoleId","updateRolePageForRoleId","getProjectList","saveProject","updateProject","deteleProjectById","getOwnerIdAndName","getExecuteIdAndName","getFiles","getProjectSonList","saveProjectSon","updateProjectSon","_g","_b","directives","rawName","tid","class","bordered","showSummary","tableData","mHeight","stripe","defaultSort","headerCellClassName","setRowClassName","getSummaries","handleSortChange","handleRowClick","handleHeaderDragend","$attrs","$listeners","children","Array","isArray","prop","label","align","className","_s","child","width","minWidth","fixed","selectable","sortable","tooltip","_t","tips","staticStyle","$index","domProps","formatter","getCellClassObject","ellipsis","pagerLayout","pageSizes","curPage","handleSizeChange","props","columns","default","dataSource","loading","Boolean","maxHeight","Number","pagination","String","validator","indexOf","Object","highlightRow","highlightRowClassName","rowClassName","Function","autoScrollTop","renderSummary","selections","selectionType","sortBy","sortOrder","order","summaryData","tableSelectIndex","computed","_columns","filter","hasShowPaging","length","height","watch","deep","immediate","handler","generateData","val","setRowSelection","moveToTop","JSON","stringify","oldVal","resetXmTable","shift","forEach","sums","index","property","includes","push","__index__","rowIndex","$emit","page","sorter","size","$nextTick","XmTable","clearSelection","toggleRowSelection","bodyWrapper","scrollTop","move","document","documentElement","amount","body","parentNode","newWidth","oldWidth","event","user"],"mappings":"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","file":"static/js/chunk-016d2c9d.9106ef1b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bgfff out_wrap\"},[_c('div',{staticClass:\"flex_between1\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.form,\"size\":\"small\",\"label-suffix\":\":\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1)],1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add}},[_vm._v(\"新增用户\")])],1),_c('zf-table',{attrs:{\"columns\":_vm.column,\"data-source\":_vm.tableList,\"total\":_vm.pages.total,\"page-size\":_vm.pages.pageSize,\"page-num\":_vm.pages.pageNum},on:{\"change\":_vm.handlePageChange},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a',{staticClass:\"active_color\",on:{\"click\":function($event){return _vm.edit(row)}}},[_vm._v(\"编辑\")]),_c('a',{staticClass:\"del ml20\",on:{\"click\":function($event){return _vm.del(row)}}},[_vm._v(\"删除\")])]}}])}),_c('el-dialog',{attrs:{\"title\":_vm.mode == 1 ? '新建员工' : '编辑员工',\"visible\":_vm.dialogVisible,\"center\":\"\",\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.groupOne,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户姓名：\",\"prop\":\"userName\"}},[_c('el-input',{staticClass:\"w100\",attrs:{\"placeholder\":\"请输入员工姓名\",\"clearable\":\"\"},model:{value:(_vm.groupOne.userName),callback:function ($$v) {_vm.$set(_vm.groupOne, \"userName\", $$v)},expression:\"groupOne.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号：\",\"prop\":\"mobile\"}},[_c('el-input',{staticClass:\"w100\",attrs:{\"placeholder\":\"请输入员工手机号\",\"maxlength\":\"11\",\"clearable\":\"\"},model:{value:(_vm.groupOne.mobile),callback:function ($$v) {_vm.$set(_vm.groupOne, \"mobile\", $$v)},expression:\"groupOne.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限角色：\",\"prop\":\"roleId\"}},[_c('el-select',{staticClass:\"w100\",attrs:{\"placeholder\":\"请选择权限角色\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.groupOne.roleId),callback:function ($$v) {_vm.$set(_vm.groupOne, \"roleId\", $$v)},expression:\"groupOne.roleId\"}},_vm._l((_vm.optionArr),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),(_vm.mode === 1)?_c('el-form-item',{attrs:{\"label\":\"登录密码：\",\"prop\":\"password\"}},[_c('el-input',{staticClass:\"w100\",attrs:{\"placeholder\":\"登录密码\"},model:{value:(_vm.groupOne.password),callback:function ($$v) {_vm.$set(_vm.groupOne, \"password\", $$v)},expression:\"groupOne.password\"}})],1):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bgfff out_wrap\">\n    <div class=\"flex_between1\">\n      <el-form :inline=\"true\" :model=\"form\" size=\"small\" label-suffix=\":\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"form.userName\" placeholder=\"请输入\" />\n        </el-form-item>\n        <el-form-item label=\"手机号\">\n          <el-input v-model=\"form.mobile\" placeholder=\"请输入\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"query\">查询</el-button>\n        </el-form-item>\n      </el-form>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"add\">新增用户</el-button>\n    </div>\n    <zf-table\n      :columns=\"column\"\n      :data-source=\"tableList\"\n      :total=\"pages.total\"\n      :page-size=\"pages.pageSize\"\n      :page-num=\"pages.pageNum\"\n      @change=\"handlePageChange\"\n    >\n      <!-- 操作 -->\n      <template\n        slot=\"action\"\n        slot-scope=\"{ row }\"\n      >\n        <a class=\"active_color\" @click=\"edit(row)\">编辑</a>\n        <a class=\"del ml20\" @click=\"del(row)\">删除</a>\n      </template>\n    </zf-table>\n    <el-dialog\n      :title=\"mode == 1 ? '新建员工' : '编辑员工'\"\n      :visible.sync=\"dialogVisible\"\n      center\n      width=\"400px\"\n    >\n      <el-form ref=\"ruleForm\" :model=\"groupOne\" :rules=\"rules\" class=\"demo-ruleForm\" label-width=\"120px\">\n        <el-form-item label=\"用户姓名：\" prop=\"userName\">\n          <el-input v-model=\"groupOne.userName\" placeholder=\"请输入员工姓名\" class=\"w100\" clearable />\n        </el-form-item>\n        <el-form-item label=\"手机号：\" prop=\"mobile\">\n          <el-input v-model=\"groupOne.mobile\" placeholder=\"请输入员工手机号\" class=\"w100\" maxlength=\"11\" clearable />\n        </el-form-item>\n        <el-form-item label=\"权限角色：\" prop=\"roleId\">\n          <el-select v-model=\"groupOne.roleId\" placeholder=\"请选择权限角色\" class=\"w100\" clearable filterable>\n            <el-option v-for=\"item in optionArr\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item v-if=\"mode === 1\" label=\"登录密码：\" prop=\"password\">\n          <el-input v-model=\"groupOne.password\" placeholder=\"登录密码\" class=\"w100\" />\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport ZfTable from '@/components/ZfTable/CoreTable'\nimport { user } from './columns/list'\nimport { getUserList, getRoleList, saveUser, updataUserById, deteleUserById } from '@/api/common'\nexport default {\n  name: 'List',\n  components: {\n    ZfTable\n  },\n  data() {\n    const validateAccount = (rule, value, callback) => {\n      if (value !== '' && value !== undefined) {\n        if (!/^1[3456789]\\d{9}$/.test(value)) {\n          callback(new Error('请输入正确的手机号'))\n        } else {\n          callback()\n        }\n      } else {\n        callback(new Error('请输入手机号'))\n      }\n    }\n    return {\n      mode: 1,\n      groupOne: {\n        userName: '',\n        mobile: '',\n        roleId: '',\n        password: '',\n        userId: ''\n      },\n      dialogVisible: false,\n      rules: {\n        userName: [{ required: true, message: '请输入员工姓名', trigger: 'change' }],\n        mobile: [{ required: true, validator: validateAccount, trigger: 'change' }],\n        roleId: [{ required: true, message: '请选择权限角色', trigger: 'change' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'change' }]\n      },\n      optionArr: [],\n      form: {\n        userName: '', // 用户名\n        mobile: '' // 手机号\n      },\n      column: user,\n      tableList: [],\n      pages: {\n        pageNum: 1,\n        pageSize: 10,\n        total: 0\n      }\n    }\n  },\n  mounted() {\n    this.query()\n    getRoleList({ pageNum: 1, pageSize: 999999 }).then(res => {\n      this.optionArr = res.data.roleList.rows\n    })\n  },\n  methods: {\n    async query() {\n      const res = await getUserList({ ...this.form, ...this.pages })\n      if (res.code === 0) {\n        this.pages.total = res.data.userList.total\n        this.tableList = res.data.userList.rows\n      }\n    },\n    handlePageChange({ pageNum, pageSize, sorter: { prop, order }}) {\n      this.pages.pageNum = pageNum\n      this.pages.pageSize = pageSize\n      this.query()\n    },\n    edit(row) {\n      this.mode = 2\n      this.groupOne.userId = row.userId\n      this.groupOne.userName = row.username\n      this.groupOne.mobile = row.mobile\n      this.groupOne.roleId = row.role\n      this.dialogVisible = true\n    },\n    del(row) {\n      this.$confirm('此操作将永久删除该数据, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async() => {\n        const res = await deteleUserById({ userId: row.userId })\n        if (res.code === 0) {\n          this.$message.success('删除用户成功!')\n          this.query()\n        }\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    add() {\n      this.mode = 1\n      // 重置\n      this.groupOne.userId = ''\n      this.groupOne.userName = ''\n      this.groupOne.mobile = ''\n      this.groupOne.roleId = ''\n      this.groupOne.password = ''\n      this.dialogVisible = true\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(async(valid) => {\n        if (valid) {\n          if (this.mode === 1) {\n            const res = await saveUser(this.groupOne)\n            if (res.code === 0) {\n              this.dialogVisible = false\n              this.$message.success('新增用户成功!')\n              this.query()\n            }\n          } else {\n            delete this.groupOne.password\n            const res = await updataUserById(this.groupOne)\n            if (res.code === 0) {\n              this.dialogVisible = false\n              this.$message.success('编辑用户成功!')\n              this.query()\n            }\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=047fc2ff&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\n// 登陆file/saveFile\nexport function login(params) {\n  return request({ url: '/user/login', method: 'get', params })\n}\n\n// 文件上传\nexport function saveFile(data) {\n  return request({ url: '/file/saveFile', method: 'post', data })\n}\n\n// 用户列表\nexport function getUserList(params) {\n  return request({ url: '/user/getUserList', method: 'get', params })\n}\n\n// 角色列表(包含下拉框)\nexport function getRoleList(params) {\n  return request({ url: '/role/getRoleList', method: 'get', params })\n}\n\n// 添加用户\nexport function saveUser(params) {\n  return request({ url: '/user/saveUser', method: 'get', params })\n}\n\n// 编辑用户\nexport function updataUserById(params) {\n  return request({ url: '/user/updateUserById', method: 'get', params })\n}\n\n// 删除用户\nexport function deteleUserById(params) {\n  return request({ url: '/user/deteleUserById', method: 'get', params })\n}\n\n// 添加角色\nexport function saveRole(params) {\n  return request({ url: '/role/saveRole', method: 'get', params })\n}\n\n// 编辑角色\nexport function updataRoleById(params) {\n  return request({ url: '/role/updateRoleById', method: 'get', params })\n}\n\n// 删除角色\nexport function deteleRoleById(params) {\n  return request({ url: '/user/deteleRoleById', method: 'get', params })\n}\n\n// 获取所有页面\nexport function getAllPageAuth(params) {\n  return request({ url: '/role/getAllPage', method: 'get', params })\n}\n\n// 获取角色权限信息\nexport function getPageByRoleId(params) {\n  return request({ url: '/role/getPageByRoleId', method: 'get', params })\n}\n\n// 修改角色权限信息\nexport function updateRolePageForRoleId(params) {\n  return request({ url: '/role/updateRolePageForRoleId', method: 'get', params })\n}\n\n// 获取项目列表\nexport function getProjectList(params) {\n  return request({ url: '/project/getProjectList', method: 'get', params })\n}\n\n// 添加项目\nexport function saveProject(params) {\n  return request({ url: '/project/saveProject', method: 'get', params })\n}\n\n// 编辑项目\nexport function updateProject(params) {\n  return request({ url: '/project/updateProject', method: 'get', params })\n}\n\n// 删除项目\nexport function deteleProjectById(params) {\n  return request({ url: '/project/deteleProjectById', method: 'get', params })\n}\n\n// 获取业主单位下拉框信息\nexport function getOwnerIdAndName(params) {\n  return request({ url: '/owner/getOwnerIdAndName', method: 'get', params })\n}\n\n// 获取实施单位下拉框信息\nexport function getExecuteIdAndName(params) {\n  return request({ url: '/execute/getExecuteIdAndName', method: 'get', params })\n}\n\n// 根据文件ids获取文件\nexport function getFiles(params) {\n  return request({ url: '/file/getFilesByIds', method: 'get', params })\n}\n\n// 获取子项信息\nexport function getProjectSonList(params) {\n  return request({ url: '/project/son/getProjectSonList', method: 'get', params })\n}\n\n// 添加子项目\nexport function saveProjectSon(params) {\n  return request({ url: '/project/son/saveProjectSon', method: 'get', params })\n}\n\n// 编辑子项目\nexport function updateProjectSon(params) {\n  return request({ url: '/project/son/updateProjectSon', method: 'get', params })\n}\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',_vm._g(_vm._b({directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],key:_vm.tid,ref:\"XmTable\",class:{\n      'zf-table': true,\n      'xm-table-border': _vm.bordered,\n      'is-flex': _vm.showSummary\n    },attrs:{\"data\":_vm.tableData,\"max-height\":_vm.mHeight,\"stripe\":_vm.stripe,\"default-sort\":_vm.defaultSort,\"header-cell-class-name\":_vm.headerCellClassName,\"row-class-name\":_vm.setRowClassName,\"show-summary\":_vm.showSummary,\"summary-method\":_vm.getSummaries},on:{\"sort-change\":_vm.handleSortChange,\"row-click\":_vm.handleRowClick,\"header-dragend\":_vm.handleHeaderDragend}},'el-table',_vm.$attrs,false),_vm.$listeners),[_vm._l((_vm._columns),function(column){return [(column.children && Array.isArray(column.children))?[_c('el-table-column',{key:column.prop,attrs:{\"label\":column.label,\"align\":column.align || 'left',\"class-name\":column.className || null}},[_c('template',{slot:\"header\"},[[_vm._v(_vm._s(column.label || column.prop))]],2),_vm._l((column.children),function(child){return [(child.type)?_c('el-table-column',{key:child.prop,attrs:{\"type\":child.type,\"label\":child.label,\"width\":child.width,\"min-width\":child.minWidth || 100,\"align\":child.align || 'left',\"fixed\":child.fixed,\"class-name\":child.className || null,\"selectable\":column.selectable || null}}):_c('el-table-column',{key:child.prop,attrs:{\"prop\":child.prop,\"label\":child.label,\"width\":child.width,\"min-width\":child.minWidth || 100,\"align\":child.align || 'left',\"sortable\":child.sortable,\"show-overflow-tooltip\":column.tooltip,\"fixed\":child.fixed,\"class-name\":child.className || null},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\n    var row = ref.row;\nreturn [_vm._t(((child.prop) + \"-header\"),[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"disabled\":!child.tips}},[_c('div',{staticStyle:{\"max-width\":\"200px\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(child.tips))]),_c('span',[_vm._v(_vm._s(child.label || child.prop))])])],{\"row\":row})]}},{key:\"default\",fn:function(ref){\n    var row = ref.row;\n    var $index = ref.$index;\nreturn [_vm._t(child.prop,[(child.formatter)?_c('div',{domProps:{\"innerHTML\":_vm._s(child.formatter(row[child.prop], row, $index))}}):_c('div',{class:_vm.getCellClassObject(child.ellipsis),attrs:{\"title\":column.ellipsis ? row[child.prop] : ''}},[_vm._v(_vm._s(row[child.prop]))])],{\"row\":row,\"$index\":$index})]}}],null,true)})]})],2)]:[(column.type)?[(column.type === 'expand')?_c('el-table-column',{key:column.prop,attrs:{\"type\":column.type,\"label\":column.label,\"width\":column.width,\"min-width\":column.minWidth || 100,\"align\":column.align || 'left',\"fixed\":column.fixed,\"class-name\":column.className || null,\"selectable\":column.selectable || null},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n    var row = ref.row;\n    var $index = ref.$index;\nreturn [_vm._t(column.prop,null,{\"row\":row,\"$index\":$index})]}}],null,true)}):_c('el-table-column',{key:column.prop,attrs:{\"type\":column.type,\"label\":column.label,\"width\":column.width,\"min-width\":column.minWidth || 100,\"align\":column.align || 'left',\"fixed\":column.fixed,\"class-name\":column.className || null,\"selectable\":column.selectable || null}})]:[_c('el-table-column',{key:column.prop,attrs:{\"prop\":column.prop,\"label\":column.label,\"width\":column.width,\"min-width\":column.minWidth || 100,\"align\":column.align || 'left',\"sortable\":column.sortable,\"show-overflow-tooltip\":column.tooltip,\"fixed\":column.fixed,\"tips\":column.tips,\"class-name\":column.className || null},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\n    var row = ref.row;\nreturn [_vm._t(((column.prop) + \"-header\"),[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"disabled\":!column.tips}},[_c('div',{staticStyle:{\"max-width\":\"150px\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(column.tips))]),_c('span',[_vm._v(_vm._s(column.label || column.prop))])])],{\"row\":row})]}},{key:\"default\",fn:function(ref){\n    var row = ref.row;\n    var $index = ref.$index;\nreturn [_vm._t(column.prop,[(column.formatter)?void 0:[_vm._v(_vm._s(row[column.prop]))]],{\"row\":row,\"$index\":$index})]}}],null,true)})]]]})],2),(_vm.hasShowPaging)?_c('el-pagination',{staticClass:\"xm-table-pagination\",attrs:{\"background\":\"\",\"total\":+_vm.total,\"layout\":_vm.pagerLayout,\"page-size\":_vm.pageSize,\"page-sizes\":_vm.pageSizes,\"current-page\":_vm.curPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handlePageChange,\"prev-click\":_vm.handlePageChange,\"next-change\":_vm.handlePageChange}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-table\n      ref=\"XmTable\"\n      :key=\"tid\"\n      v-loading=\"loading\"\n      v-bind=\"$attrs\"\n      :class=\"{\n        'zf-table': true,\n        'xm-table-border': bordered,\n        'is-flex': showSummary\n      }\"\n      :data=\"tableData\"\n      :max-height=\"mHeight\"\n      :stripe=\"stripe\"\n      :default-sort=\"defaultSort\"\n      :header-cell-class-name=\"headerCellClassName\"\n      :row-class-name=\"setRowClassName\"\n      :show-summary=\"showSummary\"\n      :summary-method=\"getSummaries\"\n      v-on=\"$listeners\"\n      @sort-change=\"handleSortChange\"\n      @row-click=\"handleRowClick\"\n      @header-dragend=\"handleHeaderDragend\"\n    >\n      <template v-for=\"column in _columns\">\n        <!----------------------- 多级表头 start  ----------------------->\n        <template v-if=\"column.children && Array.isArray(column.children)\">\n          <el-table-column\n            :key=\"column.prop\"\n            :label=\"column.label\"\n            :align=\"column.align || 'left'\"\n            :class-name=\"column.className || null\"\n          >\n            <!-- 多级表头的一级表头 slot start -->\n            <template slot=\"header\">\n              <template>{{ column.label || column.prop }}</template>\n            </template>\n            <!-- 多级表头的一级表头 slot end -->\n\n            <!-- 二级表头 children start  -->\n            <template v-for=\"child in column.children\">\n              <!-- 特殊列 例如多选 -->\n              <el-table-column\n                v-if=\"child.type\"\n                :key=\"child.prop\"\n                :type=\"child.type\"\n                :label=\"child.label\"\n                :width=\"child.width\"\n                :min-width=\"child.minWidth || 100\"\n                :align=\"child.align || 'left'\"\n                :fixed=\"child.fixed\"\n                :class-name=\"child.className || null\"\n                :selectable=\"column.selectable || null\"\n              />\n              <!-- 默认列 -->\n              <el-table-column\n                v-else\n                :key=\"child.prop\"\n                :prop=\"child.prop\"\n                :label=\"child.label\"\n                :width=\"child.width\"\n                :min-width=\"child.minWidth || 100\"\n                :align=\"child.align || 'left'\"\n                :sortable=\"child.sortable\"\n                :show-overflow-tooltip=\"column.tooltip\"\n                :fixed=\"child.fixed\"\n                :class-name=\"child.className || null\"\n              >\n                <!-- 表头 slot -->\n                <!-- tips：element-ui 2.4.9 以上 版本才支持 slot=\"header\" -->\n                <template\n                  slot=\"header\"\n                  slot-scope=\"{ row }\"\n                >\n                  <slot\n                    :name=\"`${child.prop}-header`\"\n                    :row=\"row\"\n                  >\n                    <el-tooltip\n                      effect=\"dark\"\n                      placement=\"top\"\n                      :disabled=\"!child.tips\"\n                    >\n                      <div\n                        slot=\"content\"\n                        style=\"max-width: 200px;\"\n                      >{{ child.tips }}</div>\n                      <span>{{ child.label || child.prop }}</span>\n                    </el-tooltip>\n                  </slot>\n                </template>\n\n                <!-- 默认列 slot -->\n                <template slot-scope=\"{ row, $index }\">\n                  <slot\n                    :name=\"child.prop\"\n                    :row=\"row\"\n                    :$index=\"$index\"\n                  >\n                    <div\n                      v-if=\"child.formatter\"\n                      v-html=\"child.formatter(row[child.prop], row, $index)\"\n                    />\n                    <div\n                      v-else\n                      :class=\"getCellClassObject(child.ellipsis)\"\n                      :title=\"column.ellipsis ? row[child.prop] : ''\"\n                    >{{ row[child.prop] }}</div>\n                  </slot>\n                </template>\n              </el-table-column>\n            </template>\n            <!-- 二级表头 children end  -->\n          </el-table-column>\n        </template>\n        <!----------------------- 二级表头 end ----------------------->\n\n        <!----------------------- 一级 默认 slot ----------------------->\n        <template v-else>\n          <!-- 特殊列 -->\n          <template v-if=\"column.type\">\n            <!-- 展开列 -->\n            <el-table-column\n              v-if=\"column.type === 'expand'\"\n              :key=\"column.prop\"\n              :type=\"column.type\"\n              :label=\"column.label\"\n              :width=\"column.width\"\n              :min-width=\"column.minWidth || 100\"\n              :align=\"column.align || 'left'\"\n              :fixed=\"column.fixed\"\n              :class-name=\"column.className || null\"\n              :selectable=\"column.selectable || null\"\n            >\n              <template slot-scope=\"{ row, $index }\">\n                <slot\n                  :name=\"column.prop\"\n                  :row=\"row\"\n                  :$index=\"$index\"\n                />\n              </template>\n            </el-table-column>\n\n            <!-- 多选列等 -->\n            <el-table-column\n              v-else\n              :key=\"column.prop\"\n              :type=\"column.type\"\n              :label=\"column.label\"\n              :width=\"column.width\"\n              :min-width=\"column.minWidth || 100\"\n              :align=\"column.align || 'left'\"\n              :fixed=\"column.fixed\"\n              :class-name=\"column.className || null\"\n              :selectable=\"column.selectable || null\"\n            />\n          </template>\n\n          <!-- 默认列 -->\n          <template v-else>\n            <el-table-column\n              :key=\"column.prop\"\n              :prop=\"column.prop\"\n              :label=\"column.label\"\n              :width=\"column.width\"\n              :min-width=\"column.minWidth || 100\"\n              :align=\"column.align || 'left'\"\n              :sortable=\"column.sortable\"\n              :show-overflow-tooltip=\"column.tooltip\"\n              :fixed=\"column.fixed\"\n              :tips=\"column.tips\"\n              :class-name=\"column.className || null\"\n            >\n              <!--\n              注意: 在组件中使用 <template slot=\"xxxx-header\" slot-scope=\"scope\" ></template>的时候\n              slot-scope=\"scope\" 不能删除，必须指明为作用域插槽, 否则会导致错误\n              例如：当表格在进行前端排序（sortable: true）时，会出现slot重复渲染错误警告\n            -->\n              <!-- 表头 slot -->\n              <template\n                slot=\"header\"\n                slot-scope=\"{ row }\"\n              >\n                <slot\n                  :name=\"`${column.prop}-header`\"\n                  :row=\"row\"\n                >\n                  <el-tooltip\n                    effect=\"dark\"\n                    placement=\"top\"\n                    :disabled=\"!column.tips\"\n                  >\n                    <div\n                      slot=\"content\"\n                      style=\"max-width: 150px;\"\n                    >{{ column.tips }}</div>\n                    <span>{{ column.label || column.prop }}</span>\n                  </el-tooltip>\n                </slot>\n              </template>\n\n              <!-- default slot -->\n              <!-- 当增加一个 空白列时，，例如 [操作]: { label: '操作', prop: 'handles' } 时\n              如果不调用 slot-scope 会报如下错误\n              Duplicate presence of slot \"handles\" found in the same render tree -\n              this will likely cause render errors.\n            -->\n              <template slot-scope=\"{ row, $index }\">\n                <slot\n                  :name=\"column.prop\"\n                  :row=\"row\"\n                  :$index=\"$index\"\n                >\n                  <template\n                    v-if=\"column.formatter\"\n                    v-html=\"column.formatter(row[column.prop], row, $index)\"\n                  />\n                  <template\n                    v-else\n                    :class=\"getCellClassObject(column.ellipsis)\"\n                    :title=\"column.ellipsis ? row[column.prop] : ''\"\n                  >{{ row[column.prop] }}</template>\n                </slot>\n              </template>\n            </el-table-column>\n          </template>\n        </template>\n        <!----------------------- 一级 默认 end ----------------------->\n      </template>\n      <!-- <template slot=\"empty\">\n        <slot name=\"empty\" />\n      </template> -->\n    </el-table>\n\n    <!-- 分页 -->\n    <el-pagination\n      v-if=\"hasShowPaging\"\n      class=\"xm-table-pagination\"\n      background\n      :total=\"+total\"\n      :layout=\"pagerLayout\"\n      :page-size=\"pageSize\"\n      :page-sizes=\"pageSizes\"\n      :current-page=\"curPage\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handlePageChange\"\n      @prev-click=\"handlePageChange\"\n      @next-change=\"handlePageChange\"\n    />\n  </div>\n</template>\n\n<script>\n\n/**\n *\n *  基于 ElementUi 的 Table 组件,根据业务进行二次封装\n *  所有 Element-Ui 表格中的属性，除 props 中列举的属性外，均可通过 $attr 进行传递\n *  $listeners 包含了所有 ElementUi 支持的所有事件，无需重复设置 $emit 即可使用\n *  例如: @row-click=\"handleRowClick\":如果在 handleRowClick 事件中继续 $emit('row-click')\n *  这样会导致 row-click 事件触发两次\n *  columns 参数说明\n *  columns: [\n      {\n        prop: String, // 唯一Key，字段名\n        type: ['index', 'selection', ''], // col 类型，参照 element-ui 文档\n        label: String, // 列的名称\n        width: String, // 每列的宽度\n        min-width: String, // 每列的最小宽度\n        children: Array, // 二级表头\n        align: ['left','center','right'], // 列文字对齐方式\n        sortable: [true, false, 'custom'], // 排序，参照 element-ui 文档\n        className: String, // 表头样式\n        fixed: [true, 'left', 'right'] // 列是否固定在左侧或者右侧，true 表示固定在左侧\n        hidden: Boolean, // 是否隐藏该列\n        formatter: Function // 传入一个函数对数据进行格式化，常用于简单重复使用，参数： (value, row, index)\n        ellipsis: [true, false, 'multiple'] // 开启后，文本将不换行，超出部分显示为省略号\n        selectable: Function, // 函数的返回值(true, false)用来决定这一行的 CheckBox 是否可以勾选\n        tips: String, // 表头Popover 弹出框，显示表头解释信息 参照 element-ui 文档\n        tooltip: 当内容过长被隐藏时显示 tooltip // 对于插槽的内容不起作用\n      }\n *  ]\n *\n */\n\nexport default {\n  name: 'XmTable',\n  props: {\n    columns: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n\n    dataSource: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n\n    loading: {\n      type: Boolean,\n      default: false\n    },\n\n    // 最大高度，包含分页高度\n    maxHeight: {\n      type: Number,\n      default: 0\n    },\n\n    // 最外层的边框\n    bordered: {\n      type: Boolean,\n      default: false\n    },\n\n    // 斑马条纹\n    stripe: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * 是否显示分页\n     * 为 always 时，将一直显示\n     * 为 false 时，总是不显示\n     * 为 true 时，只有有数据时才显示\n     */\n    pagination: {\n      type: [Boolean, String],\n      default: true,\n      validator(value) {\n        return ['always', true, false].indexOf(value) !== -1\n      }\n    },\n\n    // 分页布局\n    pagerLayout: {\n      type: String,\n      default: 'total, sizes, prev, pager, next, jumper'\n    },\n\n    /**\n     *  总条数\n     *  TODO: 星火项目中出现有接口返回字符串，导致出现警告\n     *  默认情况下 total 只能是数字类型\n     */\n    total: {\n      type: [Number, String],\n      default: 0\n    },\n\n    // 每页显示数量\n    pageSize: {\n      type: Number,\n      default: 30\n    },\n\n    // 页码\n    pageNum: {\n      type: Number,\n      default: 1\n    },\n\n    // 分页选择器的选项设置\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 30, 50, 80, 100]\n      }\n    },\n\n    // 初始排序\n    defaultSort: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n\n    // 是否开启选中高亮\n    highlightRow: {\n      type: [Boolean, String],\n      default: false,\n      validator(value) {\n        return ['single', true, false].indexOf(value) !== -1\n      }\n    },\n\n    // 高亮选中样式\n    highlightRowClassName: {\n      type: String,\n      default: 'xm-row-select'\n    },\n\n    // row className\n    rowClassName: {\n      type: Function,\n      default() { return null }\n    },\n\n    // 表头类\n    headerCellClassName: {\n      type: String,\n      default: 'xm-header-bg'\n    },\n\n    /**\n     * 是否自动滚动到顶部\n     * change：只有在分页或排序改变时执行\n     * true：只要数据改变就执行\n     * false：不自动执行\n     */\n    autoScrollTop: {\n      type: [Boolean, String],\n      default: true,\n      validator(value) {\n        return ['change', true, false].indexOf(value) !== -1\n      }\n    },\n\n    /**\n     *  显示汇总行\n     *  固定在第一行\n     *  TODO: 如果 column 设置了 fixed 会出现样式错乱，慎用\n     */\n    showSummary: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     *  修改汇总行单元格\n     *  { date: row => '<p>{{ row.date }}</p>' }\n     */\n    renderSummary: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n\n    /**\n     * 默认属性选中的集合，\n     */\n    selections: {\n      type: Array,\n      default: () => []\n    },\n\n    /**\n     * 多选表格默认勾选属性\n     */\n    selectionType: {\n      type: String,\n      default: 'id'\n    }\n  },\n  data() {\n    const { prop = '', order = '' } = this.defaultSort\n    return {\n      tid: 0,\n      curPage: 1,\n      sortBy: prop,\n      sortOrder: order,\n      tableData: [], // 表格数据\n      summaryData: {}, // 汇总数据\n      tableSelectIndex: []\n    }\n  },\n  computed: {\n    _columns() {\n      return this.columns.filter(item => !item.hidden)\n    },\n    // 兼容低版本\n    hasShowPaging() {\n      if (this.pagination === 'always') return true\n      return this.pagination && this.dataSource.length > 0\n    },\n    mHeight() {\n      const { hasShowPaging, maxHeight } = this\n      const height = hasShowPaging ? maxHeight - 46 : maxHeight // 46 为 pagination 的高度\n      return maxHeight !== 0 ? height : 'auto'\n    }\n  },\n  watch: {\n    dataSource: {\n      deep: true,\n      immediate: true,\n      handler(val) {\n        this.generateData(val)\n        // 清除选中行\n        this.tableSelectIndex = []\n        // 设置表格默认选中\n        this.setRowSelection()\n        // 滚动到顶部\n        if (this.autoScrollTop === true) this.moveToTop()\n      }\n    },\n    pageNum(val) {\n      this.curPage = val\n    },\n    columns(val, oldVal) {\n      if (JSON.stringify(val) !== JSON.stringify(oldVal)) {\n        this.resetXmTable() // TODO: 解决columns的顺序改变，视图不更新问题\n      }\n    }\n  },\n  methods: {\n    /**\n     *  处理表格数据\n     */\n    generateData(val) {\n      const dataSource = [...val]\n      if (this.showSummary && val.length > 1) {\n        this.summaryData = dataSource.shift() || {}\n      }\n      this.tableData = dataSource\n    },\n\n    /**\n     *  返回表格汇总行数据\n     */\n    getSummaries({ columns }) {\n      const sums = []\n      const { summaryData } = this\n      columns.forEach((item, index) => {\n        sums[index] = summaryData[item.property] === undefined || summaryData[item.property] === null ? '-' : summaryData[item.property]\n      })\n      return sums\n    },\n\n    /**\n     *  汇总行 cell 修改 innerHTML\n     */\n    // renderSummaries() {\n    //   const summary = this.renderSummary\n    //   const table = this.$refs.XmTable?.$el?.querySelector('.el-table__footer-wrapper>table')\n    //   for (const prop in summary) {\n    //     if (summary.hasOwnProperty(prop)) {\n    //       const formatter = summary[prop]\n    //       if (typeof formatter === 'function') {\n    //         const index = this.getIndexByProp(prop)\n    //         table.rows[0].cells[index].innerHTML = formatter(this.summaryData)\n    //       }\n    //     }\n    //   }\n    // },\n\n    /**\n     *  根据列字段\n     *  获取该列在 columns 的 index\n     */\n    // getIndexByProp(prop) {\n    //   return this.columns.findIndex(item => item.prop === prop)\n    // },\n\n    /**\n     * 表格行点击添加背景色\n     * $listeners 中已经包含了所有事件，不需要 $emit 该事件，如果 $emit 了会导致该事件触发两次\n     */\n    handleRowClick(row, column, cell, event) {\n      if (!this.highlightRow) return\n      const index = row.__index__\n      if (this.highlightRow === 'single') {\n        if (this.tableSelectIndex.includes(index)) {\n          this.tableSelectIndex = []\n        } else {\n          this.$set(this.tableSelectIndex, 0, index)\n        }\n      } else {\n        if (this.tableSelectIndex.includes(index)) {\n          this.tableSelectIndex = this.tableSelectIndex.filter(item => item !== index)\n        } else {\n          this.tableSelectIndex.push(index)\n        }\n      }\n    },\n\n    /**\n     * 表格每行的ClassName\n     */\n    setRowClassName({ row, rowIndex }) {\n      // 把每一行的索引放进row\n      row.__index__ = rowIndex\n      const rowClassName = this.rowClassName({ row, rowIndex })\n      if (this.tableSelectIndex.includes(rowIndex)) {\n        return `${this.highlightRowClassName} ${rowClassName}`\n      }\n      return rowClassName\n    },\n\n    /**\n     * 改变页数\n     * @return {sorter}: 兼容历史写法\n     */\n    handlePageChange(page) {\n      const { pageSize, sortBy, sortOrder } = this\n      // 滚动到顶部\n      if (this.autoScrollTop === 'change') this.moveToTop()\n      this.$emit('change', {\n        pageNum: page,\n        pageSize,\n        prop: sortBy,\n        order: sortOrder,\n        sorter: { prop: sortBy, order: sortOrder } // sorter 不建议使用\n      })\n    },\n    /**\n     * 改变每页显示的条数\n     * @return {sorter}: 兼容历史写法\n     */\n    handleSizeChange(size) {\n      const { sortBy, sortOrder } = this\n      // 滚动到顶部\n      if (this.autoScrollTop === 'change') this.moveToTop()\n      this.$emit('change', {\n        pageNum: 1,\n        pageSize: size,\n        prop: sortBy,\n        order: sortOrder,\n        sorter: { prop: sortBy, order: sortOrder } // sorter 不建议使用\n      })\n    },\n    /**\n     * 排序\n     * 如果设置了默认排序，早期版本该方法第一次会默认触发\n     * Element Ui 新版本已修复该 bug\n     * @return {sorter}: 兼容历史写法\n     */\n    handleSortChange({ prop, order }) {\n      this.sortBy = prop\n      this.sortOrder = order\n      // 滚动到顶部\n      if (this.autoScrollTop === 'change') this.moveToTop()\n      this.$emit('change', {\n        pageNum: 1,\n        pageSize: this.pageSize,\n        prop,\n        order,\n        sorter: { prop, order } // sorter 不建议使用\n      })\n    },\n    /**\n     * 设置表格默认选中\n     * 该方法允许外部通过 refs 调用\n     */\n    setRowSelection() {\n      const { selectionType, selections, tableData } = this\n      if (selections && selections.length > 0) {\n        this.$nextTick(() => {\n          const XmTable = this.$refs.XmTable\n          XmTable.clearSelection()\n          tableData.forEach(row => {\n            // 这边并非是id的集合，必要时可以改变类型\n            if (selections.includes(row[selectionType])) {\n              XmTable.toggleRowSelection(row, true)\n            }\n          })\n        })\n      }\n    },\n    /**\n     * 返回页面顶部\n     */\n    moveToTop() {\n      if (this.maxHeight) {\n        if (this.$refs && this.$refs.XmTable && this.$refs.XmTable.bodyWrapper) {\n          this.$refs.XmTable.bodyWrapper.scrollTop = 0\n        }\n      } else {\n        this.move(0)\n      }\n    },\n    /**\n     * 滚动到某个位置\n     * 具体项目具体对待\n     * 部分项目滚动区域可能不是 document.body\n     */\n    move(amount) {\n      document.documentElement.scrollTop = amount\n      document.body.parentNode.scrollTop = amount\n      document.body.scrollTop = amount\n    },\n    /**\n     * 通过修改 key 实现表格重新渲染\n     * 性能不好，尽量避免使用（例如：表格中如果有图片，图片每次都重新加载）\n     * 特殊需要，可通过 ref 手动调用该方法\n     */\n    resetXmTable() {\n      this.tid++\n    },\n    /**\n     * 获取 xm-cell 样式\n     */\n    getCellClassObject(ellipsis) {\n      if (!ellipsis) return null\n      return {\n        'multiple-line-txt-cut': ellipsis === 'multiple',\n        'txt-cut': ellipsis === true\n      }\n    },\n    /**\n     * 表头拖拽事件\n     */\n    handleHeaderDragend(newWidth, oldWidth, column, event) {\n      this.$emit('header-dragend', {\n        newWidth,\n        oldWidth,\n        column,\n        event\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .zf-table.el-table {\n  // 汇总行放在第一行\n  &.is-flex {\n    display: flex;\n    flex-direction: column;\n\n    .el-table__body-wrapper {\n      order: 1;\n    }\n\n    .el-table__header-wrapper,\n    .el-table__footer-wrapper {\n      min-height: 45px;\n    }\n  }\n\n  // 覆盖默认空数据时的样式，解决汇总行在有数据和没数据切换时的抖动\n  .el-table__empty-block {\n    min-height: 45px;\n\n    .el-table__empty-text {\n      line-height: 45px;\n    }\n  }\n\n  // 单元格 采用 flex 布局，修改默认行高\n  // th,td {\n  //   .cell {\n  //     display: flex !important;\n  //     justify-content: flex-start;\n  //     align-items: center;\n  //     width: 100%;\n  //     min-height: 28px;\n  //     line-height: 16px;\n  //   }\n  //   &.is-right {\n  //     .cell {\n  //       justify-content: flex-end;\n  //     }\n  //   }\n  //   &.is-center {\n  //     .cell {\n  //       justify-content: center;\n  //     }\n  //   }\n  // }\n  // 覆盖表格样式\n  thead {\n    // 二级表头\n    &.is-group {\n      tr:first-child:nth-last-child(2) {\n        th {\n          padding: 4px 0;\n        }\n      }\n    }\n\n    tr {\n      th {\n        padding: 8px 0;\n        user-select: text;\n\n        &.is-sortable {\n          padding: 7px 0;\n        }\n\n        .cell {\n          color: #333;\n        }\n      }\n    }\n  }\n  // 表格行选中样式\n  .el-table__body tr.el-table__row.xm-row-select > td {\n    background-color: #ff0;\n  }\n\n  // 滚动条占行符背景\n  .el-table__fixed-right-patch {\n    background-color: #f5f7fa;\n  }\n\n  // 汇总行背景\n  .el-table__footer-wrapper tbody td {\n    background-color: #f5f7fa;\n  }\n\n  // 表头样式\n  th {\n    &.gutter,\n    &.xm-header-bg {\n      background-color: #F5F8FA;\n    }\n  }\n  .el-button--mini,\n  .el-button--mini.is-round {\n    padding: 0;\n  }\n}\n\n// 分页样式\n.xm-table-pagination {\n  padding: 14px 12px 1px;\n  text-align: right;\n  background-color: #fff;\n}\n\n// 父元素的边框\n.xm-table-border {\n  border: 1px solid #ebeef5;\n  border-bottom: none;\n  box-sizing: content-box;\n}\n// td 多行溢出 ... 显示\n.multiple-line-txt-cut {\n  display: -webkit-box;\n  overflow: hidden;\n  line-height: 18px;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n\n// td 单行行溢出 ... 显示\n.txt-cut {\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./CoreTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./CoreTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CoreTable.vue?vue&type=template&id=9bd17d5e&scoped=true&\"\nimport script from \"./CoreTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CoreTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CoreTable.vue?vue&type=style&index=0&id=9bd17d5e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd17d5e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./CoreTable.vue?vue&type=style&index=0&id=9bd17d5e&lang=scss&scoped=true&\"","export const user = [\n  {\n    prop: 'username',\n    label: '用户姓名'\n  },\n  {\n    prop: 'mobile',\n    label: '手机号'\n  },\n  {\n    prop: 'roleName',\n    label: '权限角色'\n  },\n  {\n    prop: 'createTime',\n    label: '创建时间'\n  },\n  {\n    prop: 'action',\n    width: '120px',\n    label: '操作'\n  }\n]\nexport const role = [\n  {\n    prop: 'name',\n    label: '角色名称'\n  },\n  {\n    prop: 'remark',\n    label: '描述'\n  },\n  {\n    prop: 'action',\n    width: '180px',\n    label: '操作'\n  }\n]\n"],"sourceRoot":""}