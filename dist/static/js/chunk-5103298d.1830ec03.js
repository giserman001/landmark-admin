(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5103298d"],{2934:function(e,t,r){"use strict";r.d(t,"H",(function(){return a})),r.d(t,"A",(function(){return i})),r.d(t,"z",(function(){return n})),r.d(t,"O",(function(){return l})),r.d(t,"T",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"N",(function(){return u})),r.d(t,"S",(function(){return d})),r.d(t,"g",(function(){return m})),r.d(t,"k",(function(){return p})),r.d(t,"u",(function(){return f})),r.d(t,"ab",(function(){return b})),r.d(t,"w",(function(){return h})),r.d(t,"K",(function(){return v})),r.d(t,"X",(function(){return g})),r.d(t,"d",(function(){return j})),r.d(t,"t",(function(){return y})),r.d(t,"o",(function(){return x})),r.d(t,"p",(function(){return k})),r.d(t,"x",(function(){return C})),r.d(t,"L",(function(){return F})),r.d(t,"Y",(function(){return O})),r.d(t,"e",(function(){return w})),r.d(t,"s",(function(){return R})),r.d(t,"n",(function(){return P})),r.d(t,"q",(function(){return _})),r.d(t,"R",(function(){return S})),r.d(t,"v",(function(){return I})),r.d(t,"E",(function(){return $})),r.d(t,"U",(function(){return W})),r.d(t,"a",(function(){return T})),r.d(t,"l",(function(){return V})),r.d(t,"m",(function(){return B})),r.d(t,"F",(function(){return D})),r.d(t,"V",(function(){return A})),r.d(t,"b",(function(){return L})),r.d(t,"C",(function(){return N})),r.d(t,"P",(function(){return E})),r.d(t,"i",(function(){return q})),r.d(t,"bb",(function(){return J})),r.d(t,"B",(function(){return U})),r.d(t,"r",(function(){return G})),r.d(t,"c",(function(){return Y})),r.d(t,"W",(function(){return M})),r.d(t,"I",(function(){return Q})),r.d(t,"y",(function(){return z})),r.d(t,"f",(function(){return H})),r.d(t,"Z",(function(){return K})),r.d(t,"M",(function(){return X})),r.d(t,"D",(function(){return Z})),r.d(t,"j",(function(){return ee})),r.d(t,"cb",(function(){return te})),r.d(t,"Q",(function(){return re})),r.d(t,"J",(function(){return oe})),r.d(t,"G",(function(){return ae}));var o=r("b775");function a(e){return Object(o["a"])({url:"/file/saveFile",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/user/getUserList",method:"get",params:e})}function n(e){return Object(o["a"])({url:"/role/getRoleList",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/user/saveUser",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/user/updateUserById",method:"get",params:e})}function c(e){return Object(o["a"])({url:"/user/deteleUserById",method:"get",params:e})}function u(e){return Object(o["a"])({url:"/role/saveRole",method:"get",params:e})}function d(e){return Object(o["a"])({url:"/role/updateRoleById",method:"get",params:e})}function m(e){return Object(o["a"])({url:"/user/deteleRoleById",method:"get",params:e})}function p(e){return Object(o["a"])({url:"/role/getAllPage",method:"get",params:e})}function f(e){return Object(o["a"])({url:"/role/getPageByRoleId",method:"get",params:e})}function b(e){return Object(o["a"])({url:"/role/updateRolePageForRoleId",method:"get",params:e})}function h(e){return Object(o["a"])({url:"/project/getProjectList",method:"get",params:e})}function v(e){return Object(o["a"])({url:"/project/saveProject",method:"get",params:e})}function g(e){return Object(o["a"])({url:"/project/updateProject",method:"get",params:e})}function j(e){return Object(o["a"])({url:"/project/deteleProjectById",method:"get",params:e})}function y(e){return Object(o["a"])({url:"/owner/getOwnerIdAndName",method:"get",params:e})}function x(e){return Object(o["a"])({url:"/execute/getExecuteIdAndName",method:"get",params:e})}function k(e){return Object(o["a"])({url:"/file/getFilesByIds",method:"get",params:e})}function C(e){return Object(o["a"])({url:"/project/son/getProjectSonList",method:"get",params:e})}function F(e){return Object(o["a"])({url:"/project/son/saveProjectSon",method:"get",params:e})}function O(e){return Object(o["a"])({url:"/project/son/updateProjectSon",method:"get",params:e})}function w(e){return Object(o["a"])({url:"/project/son/deteleProjectSonById",method:"get",params:e})}function R(e){return Object(o["a"])({url:"/owner/getOwnerById",method:"get",params:e})}function P(e){return Object(o["a"])({url:"/execute/getExecuteById",method:"get",params:e})}function _(e){return Object(o["a"])({url:"staffInfo/getListByTypeAndComId",method:"get",params:e})}function S(e){return Object(o["a"])({url:"/staffInfo/getById",method:"get",params:e})}function I(e){return Object(o["a"])({url:"/project/architecture/getProjectArchitectureList",method:"get",params:e})}function $(e){return Object(o["a"])({url:"/project/architecture/saveArchitecture",method:"get",params:e})}function W(e){return Object(o["a"])({url:"/project/architecture/updateArchitecture",method:"get",params:e})}function T(e){return Object(o["a"])({url:"/project/architecture/deteleArchitectureById",method:"get",params:e})}function V(e){return Object(o["a"])({url:"/project/architecture/getById",method:"get",params:e})}function B(e){return Object(o["a"])({url:"/dayReport/getDayReportList",method:"get",params:e})}function D(e){return Object(o["a"])({url:"/dayReport/saveDayReport",method:"get",params:e})}function A(e){return Object(o["a"])({url:"/dayReport/updateDayReport",method:"get",params:e})}function L(e){return Object(o["a"])({url:"/dayReport/deteleDayReportById",method:"get",params:e})}function N(e){return Object(o["a"])({url:"/weekReport/getWeekReportList",method:"get",params:e})}function E(e){return Object(o["a"])({url:"/weekReport/saveWeekReport",method:"get",params:e})}function q(e){return Object(o["a"])({url:"/weekReport/deteleDayReportById",method:"get",params:e})}function J(e){return Object(o["a"])({url:"/weekReport/updateWeekReport",method:"get",params:e})}function U(e){return Object(o["a"])({url:"/weekReport/getById",method:"get",params:e})}function G(e){return Object(o["a"])({url:"/monthReport/getMonthReportList",method:"get",params:e})}function Y(e){return Object(o["a"])({url:"/monthReport/deteleMonthReportById",method:"get",params:e})}function M(e){return Object(o["a"])({url:"/monthReport/updateMonthReport",method:"get",params:e})}function Q(e){return Object(o["a"])({url:"/monthReport/saveMonthReport",method:"get",params:e})}function z(e){return Object(o["a"])({url:"/quarterReport/getQuarterReportList",method:"get",params:e})}function H(e){return Object(o["a"])({url:"/quarterReport/deteleQuarterReportById",method:"get",params:e})}function K(e){return Object(o["a"])({url:"/quarterReport/updateQuarterReport",method:"get",params:e})}function X(e){return Object(o["a"])({url:"/quarterReport/saveQuarterReport",method:"get",params:e})}function Z(e){return Object(o["a"])({url:"/yearReport/getYearReportList",method:"get",params:e})}function ee(e){return Object(o["a"])({url:"/yearReport/deteleYearReportById",method:"get",params:e})}function te(e){return Object(o["a"])({url:"/yearReport/updateYearReport",method:"get",params:e})}function re(e){return Object(o["a"])({url:"/yearReport/saveYearReport",method:"get",params:e})}function oe(e){return Object(o["a"])({url:"/owner/saveOwner",method:"get",params:e})}function ae(e){return Object(o["a"])({url:"/execute/saveExecute",method:"get",params:e})}},"2ccd":function(e,t,r){},"403f":function(e,t,r){"use strict";var o=r("6d7a"),a=r("d910"),i=r("90fb"),n=r("1e2c"),l=i("species");e.exports=function(e){var t=o(e),r=a.f;n&&t&&!t[l]&&r(t,l,{configurable:!0,get:function(){return this}})}},"7b0c":function(e,t,r){"use strict";r("2ccd")},"84c2":function(e,t,r){var o=r("1e2c"),a=r("d890"),i=r("e8d6"),n=r("7063"),l=r("d910").f,s=r("b338").f,c=r("8a1c"),u=r("99ad"),d=r("22ef"),m=r("1944"),p=r("efe2"),f=r("b702").set,b=r("403f"),h=r("90fb"),v=h("match"),g=a.RegExp,j=g.prototype,y=/a/g,x=/a/g,k=new g(y)!==y,C=d.UNSUPPORTED_Y,F=o&&i("RegExp",!k||C||p((function(){return x[v]=!1,g(y)!=y||g(x)==x||"/a/i"!=g(y,"i")})));if(F){var O=function(e,t){var r,o=this instanceof O,a=c(e),i=void 0===t;if(!o&&a&&e.constructor===O&&i)return e;k?a&&!i&&(e=e.source):e instanceof O&&(i&&(t=u.call(e)),e=e.source),C&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var l=n(k?new g(e,t):g(e,t),o?this:j,O);return C&&r&&f(l,{sticky:r}),l},w=function(e){e in O||l(O,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},R=s(g),P=0;while(R.length>P)w(R[P++]);j.constructor=O,O.prototype=j,m(a,"RegExp",O)}b("RegExp")},9302:function(e,t,r){"use strict";var o=r("1c8b"),a=r("692f"),i=r("da10"),n=r("d7e1"),l=[].join,s=a!=Object,c=n("join",",");o({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},"9a3e":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bgfff out_wrap"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"115px","label-suffix":":"}},[r("div",{staticClass:"top-select"},[r("el-form-item",{attrs:{label:"项目","label-width":"50px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.optionArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"子项","label-width":"60px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},model:{value:e.form.son,callback:function(t){e.$set(e.form,"son",t)},expression:"form.son"}},e._l(e.optionArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"单体","label-width":"60px"}},[r("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"},model:{value:e.form.single,callback:function(t){e.$set(e.form,"single",t)},expression:"form.single"}},e._l(e.optionArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("div",{staticClass:"ml20"},[r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)],1),r("div",{staticClass:"table-custom"},[r("div",{staticClass:"head flex"},[r("div",{staticClass:"th flex1"},[e._v("所属项目")]),r("div",{staticClass:"th flex1"},[e._v("子项")]),r("div",{staticClass:"th flex1"},[e._v("单体")]),r("div",{staticClass:"th flex1"},[e._v("实施日期")]),r("div",{staticClass:"th flex1"},[e._v("巡查及其延伸工作")]),r("div",{staticClass:"th flex1"},[e._v("单体列表实施人员")]),r("div",{staticClass:"th flex1"},[e._v("详情")]),r("div",{staticClass:"th flex1"},[e._v("其他相关工作")]),r("div",{staticClass:"th flex1"},[e._v("操作")])]),r("div",{staticClass:"body"},[e.addForm.info.length?e._l(e.addForm.info,(function(t,o){return r("div",{key:t.key,staticClass:"tr flex"},[r("div",{staticClass:"td flex1"},[e._v(e._s(t.project))]),r("div",{staticClass:"td flex1"},[e._v(e._s(t.son))]),r("div",{staticClass:"td flex1"},[e._v(e._s(t.single))]),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入日期"},model:{value:t.time,callback:function(r){e.$set(t,"time",r)},expression:"item.time"}})],1)],1),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.work,callback:function(r){e.$set(t,"work",r)},expression:"item.work"}},[r("el-option",{attrs:{label:"常规巡查",value:"1"}}),r("el-option",{attrs:{label:"定期观测",value:"2"}}),r("el-option",{attrs:{label:"专业检修",value:"3"}}),r("el-option",{attrs:{label:"检修效果评估",value:"4"}})],1)],1)],1),r("div",{staticClass:"td flex1"},[e._v(e._s(t.people))]),r("div",{staticClass:"td flex1"},[r("a",{staticClass:"active_color",on:{click:function(r){return e.view(t,o)}}},[e._v("查看")])]),r("div",{staticClass:"td flex1"},[r("el-form-item",{attrs:{"label-width":"0"}},[r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入"},model:{value:t.otherWork,callback:function(r){e.$set(t,"otherWork",r)},expression:"item.otherWork"}})],1)],1),r("div",{staticClass:"td flex1"},[r("a",{staticClass:"del",on:{click:function(r){return e.del(t,o)}}},[e._v("删除")])])])})):r("div",{staticClass:"no-data flex_center"},[e._v("暂无数据")])],2)]),r("div",{staticClass:"center mt20"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),r("el-button",{on:{click:e.clear}},[e._v("清除")])],1)]),r("el-dialog",{attrs:{title:e.title[1],visible:e.detailVisible,width:"800px",center:""},on:{"update:visible":function(t){e.detailVisible=t}}},[r("el-form",{ref:"addForm",attrs:{model:e.detailForm,"label-suffix":":","label-position":"right","label-width":"120px"}},["1"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"巡查工具"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.patrolTool,callback:function(t){e.$set(e.detailForm,"patrolTool",t)},expression:"detailForm.patrolTool"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"巡查内容"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.patrolContent,callback:function(t){e.$set(e.detailForm,"patrolContent",t)},expression:"detailForm.patrolContent"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"档案留存"}},[r("el-radio-group",{model:{value:e.detailForm.patrolRecord,callback:function(t){e.$set(e.detailForm,"patrolRecord",t)},expression:"detailForm.patrolRecord"}},[r("el-radio",{attrs:{label:1}},[e._v("照片")]),r("el-radio",{attrs:{label:2}},[e._v("图纸")]),r("el-radio",{attrs:{label:3}},[e._v("文字")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"文件",prop:"area"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:e.detailForm.file,callback:function(t){e.$set(e.detailForm,"file",t)},expression:"detailForm.file"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否发现新病害"}},[r("el-radio-group",{model:{value:e.detailForm.isVirus,callback:function(t){e.$set(e.detailForm,"isVirus",t)},expression:"detailForm.isVirus"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),r("el-radio",{attrs:{label:2}},[e._v("否")])],1),1===e.detailForm.isVirus?r("el-button",{staticClass:"ml20",attrs:{type:"primary"},on:{click:e.addVirus}},[e._v("添加")]):e._e()],1)],1)],1),1===e.detailForm.isVirus?r("div",e._l(e.detailForm.info,(function(t,o){return r("div",{key:o,staticClass:"dynamic-warper"},[r("div",{staticClass:"head-tit flex_between mb10"},[r("span",{staticClass:"left"},[e._v("病毒害"+e._s(o+1))]),e._v(" "),e.detailForm.info.length>1?r("span",{staticClass:"right del pointer",on:{click:function(r){return e.delVirus(t)}}},[e._v("删除")]):e._e()]),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害部位"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseasePart,callback:function(r){e.$set(t,"diseasePart",r)},expression:"item.diseasePart"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害类型"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseType,callback:function(r){e.$set(t,"diseaseType",r)},expression:"item.diseaseType"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害表征"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseTrait,callback:function(r){e.$set(t,"diseaseTrait",r)},expression:"item.diseaseTrait"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"成因分析"}},[r("el-input",{staticClass:"inputWith",model:{value:t.diseaseCause,callback:function(r){e.$set(t,"diseaseCause",r)},expression:"item.diseaseCause"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"照片"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:t.diseasePhotos,callback:function(r){e.$set(t,"diseasePhotos",r)},expression:"item.diseasePhotos"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"结构性病害"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:t.diseaseIsStructure,callback:function(r){e.$set(t,"diseaseIsStructure",r)},expression:"item.diseaseIsStructure"}},[r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"2"}}),r("el-option",{attrs:{label:"有待检测鉴定",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"病害严重程度"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:t.diseaseDegree,callback:function(r){e.$set(t,"diseaseDegree",r)},expression:"item.diseaseDegree"}},[r("el-option",{attrs:{label:"轻微",value:"1"}}),r("el-option",{attrs:{label:"严重",value:"2"}}),r("el-option",{attrs:{label:"有待检测检测",value:"3"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"处理方式"}},[r("el-checkbox-group",{model:{value:t.diseaseSolveWay,callback:function(r){e.$set(t,"diseaseSolveWay",r)},expression:"item.diseaseSolveWay"}},[r("el-checkbox",{attrs:{label:"1",name:"type"}},[e._v("无需任何处理")]),r("el-checkbox",{attrs:{label:"2",name:"type"}},[e._v("定期巡视观测")]),r("el-checkbox",{attrs:{label:"3",name:"type"}},[e._v("专业检修")]),r("el-checkbox",{attrs:{label:"4",name:"type"}},[e._v("检测鉴定")]),r("el-checkbox",{attrs:{label:"5",name:"type"}},[e._v("专项监测")]),r("el-checkbox",{attrs:{label:"6",name:"type"}},[e._v("抢险支护")]),r("el-checkbox",{attrs:{label:"7",name:"type"}},[e._v("修缮工程")])],1)],1)],1)],1)],1)})),0):e._e()],1):e._e(),"2"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"观测对比"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.beforeComparison,callback:function(t){e.$set(e.detailForm,"beforeComparison",t)},expression:"detailForm.beforeComparison"}},[r("el-option",{attrs:{label:"无发展",value:"1"}}),r("el-option",{attrs:{label:"轻微发展",value:"2"}}),r("el-option",{attrs:{label:"迅速发展",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"评估结论"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.beforeVerdict,callback:function(t){e.$set(e.detailForm,"beforeVerdict",t)},expression:"detailForm.beforeVerdict"}},[r("el-option",{attrs:{label:"继续观测",value:"1"}}),r("el-option",{attrs:{label:"停止观测",value:"2"}}),r("el-option",{attrs:{label:"加密观测",value:"3"}}),r("el-option",{attrs:{label:"专业检修",value:"4"}}),r("el-option",{attrs:{label:"检测鉴定",value:"5"}}),r("el-option",{attrs:{label:"专项监测",value:"6"}}),r("el-option",{attrs:{label:"修缮工程",value:"7"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"照片"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:e.detailForm.phone,callback:function(t){e.$set(e.detailForm,"phone",t)},expression:"detailForm.phone"}})],1)],1)],1)],1):e._e(),"3"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修方案说明"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionScheme,callback:function(t){e.$set(e.detailForm,"reconditionScheme",t)},expression:"detailForm.reconditionScheme"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修实施时间"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionTime,callback:function(t){e.$set(e.detailForm,"reconditionTime",t)},expression:"detailForm.reconditionTime"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修完成状况"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionCondition,callback:function(t){e.$set(e.detailForm,"reconditionCondition",t)},expression:"detailForm.reconditionCondition"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修实施人员"}},[r("el-input",{staticClass:"inputWith",model:{value:e.detailForm.reconditionStaff,callback:function(t){e.$set(e.detailForm,"reconditionStaff",t)},expression:"detailForm.reconditionStaff"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"照片"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:e.detailForm.reconditionPhoto,callback:function(t){e.$set(e.detailForm,"reconditionPhoto",t)},expression:"detailForm.reconditionPhoto"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{staticClass:"inputWith",attrs:{type:"textarea",rows:6},model:{value:e.detailForm.note,callback:function(t){e.$set(e.detailForm,"note",t)},expression:"detailForm.note"}})],1)],1)],1)],1):e._e(),"4"===e.title[0]?r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修后观测对比"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.afterComparison,callback:function(t){e.$set(e.detailForm,"afterComparison",t)},expression:"detailForm.afterComparison"}},[r("el-option",{attrs:{label:"效果良好",value:"1"}}),r("el-option",{attrs:{label:"有一定效果",value:"2"}}),r("el-option",{attrs:{label:"无效",value:"3"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"检修后评估结论"}},[r("el-select",{staticClass:"inputWith",attrs:{placeholder:"请选择"},model:{value:e.detailForm.afterVerdict,callback:function(t){e.$set(e.detailForm,"afterVerdict",t)},expression:"detailForm.afterVerdict"}},[r("el-option",{attrs:{label:"持续巡查评估",value:"1"}}),r("el-option",{attrs:{label:"再次检修",value:"2"}}),r("el-option",{attrs:{label:"检测鉴定",value:"3"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"观测图片"}},[r("upload",{attrs:{limit:5,type:[".png",".jpg",".jpeg",".JPG"],multiple:!0},model:{value:e.detailForm.afterPhone,callback:function(t){e.$set(e.detailForm,"afterPhone",t)},expression:"detailForm.afterPhone"}})],1)],1)],1)],1):e._e()]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailVisible=!1}}},[e._v("确定")])],1)],1)],1)},a=[],i=r("15f8"),n=r("cd6d"),l=(r("6a61"),r("e35a"),r("0d7a"),r("9302"),r("2eeb"),r("513c"),r("e18c"),r("053b"),r("ea69"),r("2934")),s=r("9dac"),c={components:{upload:s["a"]},data:function(){return{project:"",optionArr:[],sonProject:[],activeName:"1",form:{id:this.$route.query.id||"",son:"",single:"",projectId:"",patrolContent:"",patrolBy:"",patrolTool:"",patrolRecord:1,projectSonId:"",diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSpeed:"",diseaseSolveWay:["1"],reconditionScheme:"",reconditionTime:"",reconditionPhoto:[],reconditionCondition:"",reconditionStaff:"",beforeComparison:"",beforeVerdict:"",afterComparison:"",afterVerdict:"",otherWork:""},addForm:{info:[{project:"test1",son:"test2",single:"test3",time:"",work:"",people:"左千",otherWork:"",key:Date.now()}]},title:"查看",detailVisible:!1,detailForm:{patrolTool:"",patrolContent:"",patrolRecord:"",isVirus:1,file:[],info:[{diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSpeed:"",diseaseSolveWay:["1"]}],beforeComparison:"",beforeVerdict:"",phone:[],reconditionScheme:"",reconditionTime:"",reconditionPhoto:[],reconditionCondition:"",reconditionStaff:"",note:"",afterComparison:"",afterVerdict:"",afterPhone:[]}}},mounted:function(){var e=this;this.$route.query.id&&Object(l["B"])({id:this.$route.query.id}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var o,a,i,n,l,s,c,u,d,m,p,f,b,h,v,g,j,y,x,k,C,F,O,w,R;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=r.data.weekReport,a=o.projectId,i=o.patrolContent,n=o.patrolBy,l=o.patrolTool,s=o.patrolRecord,c=o.diseasePart,u=o.diseaseType,d=o.diseaseTrait,m=o.diseaseCause,p=o.diseasePhotos,f=o.diseaseIsStructure,b=o.diseaseDegree,h=o.diseaseSpeed,v=o.diseaseSolveWay,g=o.reconditionScheme,j=o.reconditionTime,y=o.reconditionPhoto,x=o.reconditionCondition,k=o.reconditionStaff,C=o.beforeComparison,F=o.beforeVerdict,O=o.afterComparison,w=o.afterVerdict,R=o.otherWork,console.log(p,y,"图片"),e.form.projectId=a,e.form.patrolContent=i,e.form.patrolBy=n,e.form.patrolTool=l,e.form.patrolRecord=s,e.form.diseasePart=c,e.form.diseaseType=u,e.form.diseaseTrait=d,e.form.diseaseCause=m,e.form.diseasePhotos=[],t.next=14,e.getFilesFn(p);case 14:return e.form.diseasePhotos=t.sent,e.form.diseaseIsStructure="".concat(f),e.form.diseaseDegree="".concat(b),e.form.diseaseSpeed="".concat(h),e.form.diseaseSolveWay=v?v.split(","):[],e.form.reconditionScheme=g,e.form.reconditionTime=j,t.next=23,e.getFilesFn(y);case 23:e.form.reconditionPhoto=t.sent,e.form.reconditionCondition=x,e.form.reconditionStaff=k,e.form.beforeComparison="".concat(C),e.form.beforeVerdict="".concat(F),e.form.afterComparison="".concat(O),e.form.afterVerdict="".concat(w),e.form.otherWork=R;case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(l["w"])({pageNum:1,pageSize:9999}).then((function(t){return e.optionArr=t.data.projectList.rows,e.form.projectId=e.optionArr[0].id,!0})).then((function(t){t&&e.getSonProject()}))},methods:{getSonProject:function(){var e=this;Object(l["x"])({pageNum:1,pageSize:9999,projectId:this.form.projectId}).then((function(t){e.sonProject=t.data.projectSonList.rows}))},changeProject:function(){this.getSonProject()},submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$route.query.id){t.next=7;break}return t.next=3,Object(l["P"])(Object(i["a"])(Object(i["a"])({},e.form),{},{diseasePhotos:e.form.diseasePhotos.map((function(e){return e.id})).join(",")||"",diseaseSolveWay:e.form.diseaseSolveWay.join(","),reconditionPhoto:e.form.reconditionPhoto.map((function(e){return e.id})).join(",")||""}));case 3:r=t.sent,0===r.code&&(e.$message.success("提交成功"),e.$router.go(-1)),t.next=11;break;case 7:return t.next=9,Object(l["bb"])(Object(i["a"])(Object(i["a"])({},e.form),{},{diseasePhotos:e.form.diseasePhotos.map((function(e){return e.id})).join(",")||"",diseaseSolveWay:e.form.diseaseSolveWay.join(","),reconditionPhoto:e.form.reconditionPhoto.map((function(e){return e.id})).join(",")||""}));case 9:o=t.sent,0===o.code&&(e.$message.success("编辑成功"),e.$router.go(-1));case 11:case"end":return t.stop()}}),t)})))()},handleClick:function(){},back:function(){this.activeName="".concat(Number(this.activeName)-1)},next:function(){this.activeName="".concat(Number(this.activeName)+1)},getFilesFn:function(e){return new Promise((function(t,r){Object(l["p"])({ids:e}).then((function(e){var r=[];0===e.code&&e.data&&(r=e.data.files.map((function(e){return{name:e.name,id:e.id}}))),t(r)})).catch((function(e){r(e)}))}))},add:function(){this.form.projectId?this.form.son?this.form.single?this.addForm.info.push({project:"test1",son:"test2",single:"test3",time:"",work:"",people:"左千",otherWork:"",key:Date.now()}):this.$message.error("请选择单体"):this.$message.error("请选择子项"):this.$message.error("请选择项目")},view:function(e,t){if(this.addForm.info[t].work){switch(this.addForm.info[t].work){case"1":this.title=["1","常规巡查"];break;case"2":this.title=["2","定期观测"];break;case"3":this.title=["3","专业检修"];break;default:this.title=["4","检修效果评估"];break}this.detailVisible=!0}else this.$message.error("请选择巡查及其延伸工作")},del:function(e){var t=this.addForm.info.indexOf(e);-1!==t&&this.addForm.info.splice(t,1)},clear:function(){this.addForm.info=[]},addVirus:function(){this.detailForm.info.push({diseasePart:"",diseaseType:"",diseaseTrait:"",diseaseCause:"",diseasePhotos:[],diseaseIsStructure:"",diseaseDegree:"",diseaseSpeed:"",diseaseSolveWay:["1"]})},delVirus:function(e){var t=this.detailForm.info.indexOf(e);-1!==t&&this.detailForm.info.splice(t,1)}}},u=c,d=(r("7b0c"),r("4ac2")),m=Object(d["a"])(u,o,a,!1,null,"2d49622e",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-5103298d.1830ec03.js.map